!function(e){var r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)o.d(e,r,function(t){return n[t]}.bind(null,r));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=4)}([function(t,n,e){var r=e(5),o=e(6),i=e(7);t.exports=function(t,n){return r(t)||o(t,n)||i()}},function(t,n,e){t.exports=e(9)},function(t,n,e){var r=e(10),o=e(11),i=e(12);t.exports=function(t){return r(t)||o(t)||i()}},function(r,t,n){var i=n(8);function o(t,n,e){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return 0}}()?r.exports=o=Reflect.construct:r.exports=o=function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&i(o,e.prototype),o},o.apply(null,arguments)}r.exports=o},function(t,n,e){"use strict";e.r(n);var r=e(0),h=e.n(r),o=e(3),i=e.n(o),a=e(1),c=e.n(a),u=e(2),s=e.n(u);function l(t,n,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"open";this.id=t,this.name=n,this.priority=e,this.status=r}function f(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];e.forEach(function(t){return t.classList.add(n)})}function p(n){for(var t=arguments.length,e=new Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];e.forEach(function(t){return t.classList.remove(n)})}function y(t){var n=!0,e=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value;if(!a.value)return T(a.parentNode),!1}}catch(t){e=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}return!0}function v(t){var n=t.querySelectorAll(".error-message");f.apply(void 0,["hide"].concat(s()(n)))}function m(t,n,e){n.innerHTML=A(t),localStorage.setItem(e,JSON.stringify(t))}function g(t,n){return t.find(function(t){return t.id===n})}function d(t){var n=t.id,e=t.name,r=t.status,o=t.priority;return'\n        <li class="todo-list-item" data-id="'.concat(n,'">\n            <div class="todo-list-item-top">\n                <span class="task-name">').concat(e,'</span>\n                <div>\n                    <button class="edit-btn">Edit</button>\n                    <button class="delete-btn">Delete</button> \n                </div>\n            </div>\n            <div class="todo-list-item-bottom">\n                <div>\n                    <span><i>Current status:</i> ').concat(r,'</span>\n                    <select>\n                        <option value="">Select status</option>\n                        <option value="open">Open</option>\n                        <option value="in progress">In progress</option>\n                        <option value="done">Done</option>\n                    </select>\n                    <button class="change-status-btn">Change status</button>\n                </div>\n                <div>\n                    <span class="').concat(o,'"><i>Current priority:</i> ').concat(o,'</span>\n                    <select>\n                        <option value="">Select priority</option>\n                        <option value="low">Low</option>\n                        <option value="medium">Medium</option>\n                        <option value="high">High</option>\n                    </select>\n                    <button class="change-priority-btn">Change priority</button>\n                </div>\n            </div>\n            <div class="todo-list-item-info"></div>\n        </li>\n    ')}function b(t){function n(t){var n,e=p(),r=h()(e,2),o=r[0],i=r[1],a=f.previousElementSibling.value,c=d(o);a?(g(w,c)[t]=a,m(w,l,N)):i.innerHTML=(n="Please, select ".concat(t," first"),'<div class="error-message">'.concat(n,"</div>"))}var e,r,o,i,a,c,u,s,l=document.querySelector(".todo-list"),f=t.target,p=function(){var t=f.closest(".todo-list-item"),n=t.querySelector(".todo-list-item-info");return[t,n]},d=function(t){var n=t.dataset.id;return parseInt(n)};f.classList.contains("edit-btn")&&(e=p(),h()(e,2)[1].innerHTML='\n        <form class="change-task-name-form">\n            <label>\n                Enter new task name:\n                <input type="text" class="task-name-input" placeholder="Name...">\n            </label>\n             <div class="error-message hide">Please, fill this field first</div>\n            <input type="button" class="confirm-name-changing-btn" value="Submit">\n        </form>\n    '),f.classList.contains("confirm-name-changing-btn")&&function(){var t=p(),n=h()(t,1)[0],e=d(n),r=f.parentNode;if(v(r),y(r)){var o=r.querySelector(".task-name-input").value;g(w,e).name=o,m(w,l,N)}}(),f.classList.contains("delete-btn")&&(r=p(),h()(r,2)[1].innerHTML='\n        <div class="confirm-deletion-block">\n            <span>Are you sure?</span>\n            <div>\n                <button class="confirm-deletion-btn">Confirm</button>\n                <button class="cancel-deletion-btn">Cancel</button>\n            </div>\n        </div>\n    '),f.classList.contains("confirm-deletion-btn")&&(o=p(),i=h()(o,1)[0],a=d(i),s=a,c=w.findIndex(function(t){return t.id===s}),w.splice(c,1),m(w,l,N)),f.classList.contains("cancel-deletion-btn")&&(u=p(),h()(u,2)[1].innerHTML=""),f.classList.contains("change-status-btn")&&n("status"),f.classList.contains("change-priority-btn")&&n("priority")}var w,x,L,S,E,j,O,_,k,P,T=function(t){p("hide",t.nextElementSibling)},A=function(t){return t.map(d).join("")},N="todo-list";c.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return x=document.querySelector(".todo-list"),t.next=3,c.a.awrap((n=localStorage.getItem(N))?JSON.parse(n):fetch("data/data.json").then(function(t){return t.json()}).then(function(t){return t}));case 3:w=t.sent,x.innerHTML=A(w),x.addEventListener("click",b);case 6:case"end":return t.stop()}var n}),L=document.querySelector(".modal-wrapper"),S=document.querySelector(".add-btn"),E=document.querySelector(".close-btn"),j=function t(n){"Escape"===n.key&&(p("show-modal-wrapper",L),document.removeEventListener("keydown",t))},S.addEventListener("click",function(){f("show-modal-wrapper",L),document.addEventListener("keydown",j)}),E.addEventListener("click",function(){p("show-modal-wrapper",L),document.removeEventListener("keydown",j)}),O=document.querySelector(".submit-form-btn"),_=document.querySelector(".modal-form"),k=document.querySelector(".modal-wrapper"),P=document.querySelector(".todo-list"),O.addEventListener("click",function(){if(v(_),y(_)){var t=w.length?w[w.length-1].id+1:1,n=function(t){var n=[],e=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value;"button"!==c.type&&n.push(c.value)}}catch(t){r=!0,o=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}return n}(_),e=i()(l,[t].concat(s()(n)));w.push(e),m(w,P,N),p("show-modal-wrapper",k),function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var a=o.value;"button"!==a.type&&(a.value="")}}catch(t){e=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}}(_)}})},function(t,n){t.exports=function(t){if(Array.isArray(t))return t}},function(t,n){t.exports=function(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},r(t,n)}e.exports=r},function(t,n,e){var r=function(i){"use strict";var u,t=Object.prototype,s=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",e=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag";function a(t,n,e,r){var i,a,c,u,o=n&&n.prototype instanceof m?n:m,s=Object.create(o.prototype),l=new _(r||[]);return s._invoke=(i=t,a=e,c=l,u=p,function(t,n){if(u===h)throw new Error("Generator is already running");if(u===y){if("throw"===t)throw n;return P()}for(c.method=t,c.arg=n;;){var e=c.delegate;if(e){var r=E(e,c);if(r){if(r===v)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(u===p)throw u=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u=h;var o=f(i,a,c);if("normal"===o.type){if(u=c.done?y:d,o.arg===v)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(u=y,c.method="throw",c.arg=o.arg)}}),s}function f(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}i.wrap=a;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={};function m(){}function c(){}function l(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==t&&s.call(w,o)&&(g=w);var x=l.prototype=m.prototype=Object.create(g);function L(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function S(u){var n;this._invoke=function(e,r){function t(){return new Promise(function(t,n){!function n(t,e,r,o){var i=f(u[t],u,e);if("throw"!==i.type){var a=i.arg,c=a.value;return c&&"object"==typeof c&&s.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,r,o)},function(t){n("throw",t,r,o)}):Promise.resolve(c).then(function(t){a.value=t,r(a)},function(t){return n("throw",t,r,o)})}o(i.arg)}(e,r,t,n)})}return n=n?n.then(t,t):t()}}function E(t,n){var e=t.iterator[n.method];if(e===u){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=u,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=f(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(n){if(n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var e=-1,r=function t(){for(;++e<n.length;)if(s.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:u,done:!0}}return c.prototype=x.constructor=l,l.constructor=c,l[r]=c.displayName="GeneratorFunction",i.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===c||"GeneratorFunction"===(n.displayName||n.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(x),t},i.awrap=function(t){return{__await:t}},L(S.prototype),S.prototype[e]=function(){return this},i.AsyncIterator=S,i.async=function(t,n,e,r){var o=new S(a(t,n,e,r));return i.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},L(x),x[r]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},i.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},i.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=u),!!n}for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),v},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),v}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=u),v}},i}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}}]);