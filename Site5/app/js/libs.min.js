!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i={hooks:{},extensions:[],wrappers:[],navbar:{add:!0,title:"Menu",titleLink:"parent"},onClick:{close:null,preventDefault:null,setSelected:!0},slidingSubmenus:!0};var s={classNames:{inset:"Inset",nolistview:"NoListview",nopanel:"NoPanel",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},language:null,openingInterval:25,panelNodetype:["ul","ol","div"],transitionDuration:400};function a(e,t){"object"!=o(e)&&(e={}),"object"!=o(t)&&(t={});for(let n in t)t.hasOwnProperty(n)&&(void 0===e[n]?e[n]=t[n]:"object"==o(e[n])&&a(e[n],t[n]));return e}function o(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function r(e,t,n){if("function"==typeof t){var i=t.call(e);if(void 0!==i)return i}return null!==t&&"function"!=typeof t&&void 0!==t||void 0===n?t:n}function l(e,t,n){var i=!1,s=function(n){void 0!==n&&n.target!==e||(i||(e.removeEventListener("transitionend",s),e.removeEventListener("webkitTransitionEnd",s),t.call(e)),i=!0)};e.addEventListener("transitionend",s),e.addEventListener("webkitTransitionEnd",s),setTimeout(s,1.1*n)}function m(){return"mm-"+d++}var d=0;function c(e){return"mm-"==e.slice(0,3)?e.slice(3):e}var p={};function h(e,t){void 0===p[t]&&(p[t]={}),a(p[t],e)}var f={Menu:"منو"},u={Menu:"Menü"},v={Menu:"Меню"};function b(e){var t;return e.split(".").forEach((e,n)=>{0==n?t=document.createElement(e):t.classList.add(e)}),t}function g(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function _(e,t){var n=Array.prototype.slice.call(e.children);return t?n.filter(e=>e.matches(t)):n}function y(e,t){for(var n=[],i=e.parentElement;i;)n.push(i),i=i.parentElement;return t?n.filter(e=>e.matches(t)):n}function w(e){return e.filter(e=>!e.matches(".mm-hidden"))}function L(e){var t=[];return w(e).forEach(e=>{t.push(..._(e,"a.mm-listitem__text"))}),t.filter(e=>!e.matches(".mm-btn_next"))}function E(e,t,n){e.matches("."+t)&&(e.classList.remove(t),e.classList.add(n))}var x={};function P(e,t,n){"number"==typeof e&&(e="(min-width: "+e+"px)"),x[e]=x[e]||[],x[e].push({yes:t,no:n})}function k(e,t){var n=t.matches?"yes":"no";for(let t=0;t<x[e].length;t++)x[e][t][n]()}h({Menu:"Menu"},"nl"),h(f,"fa"),h(u,"de"),h(v,"ru");class S{constructor(e,t,n){return this.opts=a(t,S.options),this.conf=a(n,S.configs),this._api=["bind","initPanels","initPanel","openPanel","closePanel","closeAllPanels","setSelected"],this.node={},this.vars={},this.hook={},this.clck=[],this.node.menu="string"==typeof e?document.querySelector(e):e,"function"==typeof this._deprecatedWarnings&&this._deprecatedWarnings(),this._initWrappers(),this._initAddons(),this._initExtensions(),this._initHooks(),this._initAPI(),this._initMenu(),this._initPanels(),this._initOpened(),this._initAnchors(),function(){for(let e in x){let t=window.matchMedia(e);k(e,t),t.onchange=(n=>{k(e,t)})}}(),this}openPanel(e,t){if(this.trigger("openPanel:before",[e]),e&&(e.matches(".mm-panel")||(e=e.closest(".mm-panel")),e)){if("boolean"!=typeof t&&(t=!0),e.parentElement.matches(".mm-listitem_vertical")){y(e,".mm-listitem_vertical").forEach(e=>{e.classList.add("mm-listitem_opened"),_(e,".mm-panel").forEach(e=>{e.classList.remove("mm-hidden")})});let t=y(e,".mm-panel").filter(e=>!e.parentElement.matches(".mm-listitem_vertical"));this.trigger("openPanel:start",[e]),t.length&&this.openPanel(t[0]),this.trigger("openPanel:finish",[e])}else{if(e.matches(".mm-panel_opened"))return;let n=_(this.node.pnls,".mm-panel"),i=_(this.node.pnls,".mm-panel_opened")[0];n.filter(t=>t!==e).forEach(e=>{e.classList.remove("mm-panel_opened-parent")});let s=e.mmParent;for(;s;)(s=s.closest(".mm-panel"))&&(s.parentElement.matches(".mm-listitem_vertical")||s.classList.add("mm-panel_opened-parent"),s=s.mmParent);n.forEach(e=>{e.classList.remove("mm-panel_highest")}),n.filter(e=>e!==i).filter(t=>t!==e).forEach(e=>{e.classList.add("mm-hidden")}),e.classList.remove("mm-hidden");let a=()=>{i&&i.classList.remove("mm-panel_opened"),e.classList.add("mm-panel_opened"),e.matches(".mm-panel_opened-parent")?(i&&i.classList.add("mm-panel_highest"),e.classList.remove("mm-panel_opened-parent")):(i&&i.classList.add("mm-panel_opened-parent"),e.classList.add("mm-panel_highest")),this.trigger("openPanel:start",[e])},o=()=>{i&&(i.classList.remove("mm-panel_highest"),i.classList.add("mm-hidden")),e.classList.remove("mm-panel_highest"),this.trigger("openPanel:finish",[e])};t&&!e.matches(".mm-panel_noanimation")?setTimeout(()=>{l(e,()=>{o()},this.conf.transitionDuration),a()},this.conf.openingInterval):(a(),o())}this.trigger("openPanel:after",[e])}}closePanel(e){this.trigger("closePanel:before",[e]);var t=e.parentElement;t.matches(".mm-listitem_vertical")&&(t.classList.remove("mm-listitem_opened"),e.classList.add("mm-hidden"),this.trigger("closePanel",[e])),this.trigger("closePanel:after",[e])}closeAllPanels(e){this.trigger("closeAllPanels:before"),this.node.pnls.querySelectorAll(".mm-listitem").forEach(e=>{e.classList.remove("mm-listitem_selected","mm-listitem_opened")});var t=_(this.node.pnls,".mm-panel"),n=e||t[0];_(this.node.pnls,".mm-panel").forEach(e=>{e!==n&&(e.classList.remove("mm-panel_opened"),e.classList.remove("mm-panel_opened-parent"),e.classList.remove("mm-panel_highest"),e.classList.add("mm-hidden"))}),this.openPanel(n,!1),this.trigger("closeAllPanels:after")}togglePanel(e){let t=e.parentElement;t.matches(".mm-listitem_vertical")&&this[t.matches(".mm-listitem_opened")?"closePanel":"openPanel"](e)}setSelected(e){this.trigger("setSelected:before",[e]),g(this.node.menu,".mm-listitem_selected").forEach(e=>{e.classList.remove("mm-listitem_selected")}),e.classList.add("mm-listitem_selected"),this.trigger("setSelected:after",[e])}bind(e,t){this.hook[e]=this.hook[e]||[],this.hook[e].push(t)}trigger(e,t){if(this.hook[e])for(var n=0,i=this.hook[e].length;n<i;n++)this.hook[e][n].apply(this,t)}_initAPI(){var e=this;this.API={},this._api.forEach(t=>{this.API[t]=function(){var n=e[t].apply(e,arguments);return void 0===n?e.API:n}}),this.node.menu.mmApi=this.API}_initHooks(){for(let e in this.opts.hooks)this.bind(e,this.opts.hooks[e])}_initWrappers(){this.trigger("initWrappers:before");for(let e=0;e<this.opts.wrappers.length;e++){let t=S.wrappers[this.opts.wrappers[e]];"function"==typeof t&&t.call(this)}this.trigger("initWrappers:after")}_initAddons(){this.trigger("initAddons:before");for(let e in S.addons)S.addons[e].call(this);this.trigger("initAddons:after")}_initExtensions(){this.trigger("initExtensions:before"),"array"==o(this.opts.extensions)&&(this.opts.extensions={all:this.opts.extensions});for(let e in this.opts.extensions)if(this.opts.extensions[e].length){let t=this.opts.extensions[e].map(e=>"mm-menu_"+e);P(e,()=>{this.node.menu.classList.add(...t)},()=>{this.node.menu.classList.remove(...t)})}this.trigger("initExtensions:after")}_initMenu(){this.trigger("initMenu:before"),this.node.wrpr=this.node.wrpr||this.node.menu.parentElement,this.node.wrpr.classList.add("mm-wrapper"),this.node.menu.id=this.node.menu.id||m();let e=b("div.mm-panels");_(this.node.menu).forEach(t=>{this.conf.panelNodetype.indexOf(t.nodeName.toLowerCase())>-1&&e.append(t)}),this.node.menu.append(e),this.node.pnls=e,this.node.menu.classList.add("mm-menu"),this.trigger("initMenu:after")}initPanels(e){this.trigger("initPanels:deprecated"),(e=e||_(this.node.pnls)).forEach(e=>{this.initPanel(e)})}_initPanels(){this.trigger("initPanels:before"),this.clck.push((e,t)=>{if(t.inMenu){var n=e.getAttribute("href");if(n&&n.length>1&&"#"==n.slice(0,1))try{let t=g(this.node.menu,n)[0];if(t&&t.matches(".mm-panel"))return e.parentElement.matches(".mm-listitem_vertical")?this.togglePanel(t):this.openPanel(t),!0}catch(e){}}}),_(this.node.pnls).forEach(e=>{this.initPanel(e)}),this.trigger("initPanels:after")}initPanel(e){var t=this.conf.panelNodetype.join(", ");if(e.matches(t)&&(e.matches(".mm-panel")||(e=this._initPanel(e)),e)){let n=[];n.push(..._(e,"."+this.conf.classNames.panel)),_(e,".mm-listview").forEach(e=>{_(e,".mm-listitem").forEach(e=>{n.push(..._(e,t))})}),n.forEach(e=>{this.initPanel(e)})}}_initPanel(e){if(this.trigger("initPanel:before",[e]),E(e,this.conf.classNames.panel,"mm-panel"),E(e,this.conf.classNames.nopanel,"mm-nopanel"),E(e,this.conf.classNames.inset,"mm-listview_inset"),e.matches(".mm-listview_inset")&&e.classList.add("mm-nopanel"),e.matches(".mm-nopanel"))return null;var t=e.id||m(),n=e.matches("."+this.conf.classNames.vertical)||!this.opts.slidingSubmenus;if(e.classList.remove(this.conf.classNames.vertical),e.matches("ul, ol")){e.removeAttribute("id");let t=b("div");e.before(t),t.append(e),e=t}e.id=t,e.classList.add("mm-panel","mm-hidden");var i=[e.parentElement].filter(e=>e.matches("li"))[0];return n?i&&i.classList.add("mm-listitem_vertical"):this.node.pnls.append(e),i&&(i.mmChild=e,e.mmParent=i),this._initNavbar(e),this._initListview(e),this.trigger("initPanel:after",[e]),e}_initNavbar(e){if(this.trigger("initNavbar:before",[e]),_(e,".mm-navbar").length)return;var t=e.mmParent,n=b("div.mm-navbar"),i=this._getPanelTitle(e,this.opts.navbar.title),s="";if(t){if(t.matches(".mm-listitem_vertical"))return;let a,o=(a=t.matches(".mm-listitem")?_(t,".mm-listitem__text")[0]:g(a=e.closest(".mm-panel"),'a[href="#'+e.id+'"]')[0]).closest(".mm-panel").id;switch(i=this._getPanelTitle(e,a.textContent),this.opts.navbar.titleLink){case"anchor":s=a.getAttribute("href");break;case"parent":s="#"+o}let r=b("a.mm-btn.mm-btn_prev.mm-navbar__btn");r.setAttribute("href","#"+o),n.append(r)}else if(!this.opts.navbar.title)return;this.opts.navbar.add||_(e,".mm-navbar")[0].classList.add("mm-hidden");let a=b("a.mm-navbar__title");if(a.innerHTML=i,s&&a.setAttribute("href",s),n.append(a),t){let e=b("span.mm-btn.mm-navbar__btn");n.append(e)}e.prepend(n),this.trigger("initNavbar:after",[e])}_initListview(e){this.trigger("initListview:before",[e]),_(e,"ul, ol").forEach(e=>{E(e,this.conf.classNames.nolistview,"mm-nolistview"),e.matches(".mm-nolistview")||(e.classList.add("mm-listview"),_(e).forEach(e=>{e.classList.add("mm-listitem"),E(e,this.conf.classNames.selected,"mm-listitem_selected"),E(e,this.conf.classNames.spacer,"mm-listitem_spacer"),_(e,"a, span").forEach(e=>{e.matches(".mm-btn")||e.classList.add("mm-listitem__text")})}))});var t=e.mmParent;if(t&&t.matches(".mm-listitem")&&!_(t,".mm-btn").length){let n=_(t,".mm-listitem__text")[0];if(n){let i=b("a.mm-btn.mm-btn_next.mm-listitem__btn");i.setAttribute("href","#"+e.id),n.matches("span")?(i.classList.add("mm-listitem__text"),i.innerHTML=n.innerHTML,t.insertBefore(i,n.nextElementSibling),n.remove()):t.append(i)}}this.trigger("initListview:after",[e])}_initOpened(){this.trigger("initOpened:before");let e=this.node.pnls.querySelectorAll(".mm-listitem_selected"),t=null;e.forEach(e=>{t=e,e.classList.remove("mm-listitem_selected")}),t&&t.classList.add("mm-listitem_selected");let n=t?t.closest(".mm-panel"):_(this.node.pnls,".mm-panel")[0];this.openPanel(n,!1),this.trigger("initOpened:after")}_initAnchors(){this.trigger("initAnchors:before"),document.addEventListener("click",e=>{var t=e.target.closest("a[href]");if(t){var n={inMenu:t.closest(".mm-menu")===this.node.menu,inListview:t.matches(".mm-listitem > a"),toExternal:t.matches('[rel="external"]')||t.matches('[target="_blank"]')},i={close:null,setSelected:null,preventDefault:"#"==t.getAttribute("href").slice(0,1)};for(let s=0;s<this.clck.length;s++){let r=this.clck[s].call(this,t,n);if(r){if("boolean"==typeof r)return void e.preventDefault();"object"==o(r)&&(i=a(r,i))}}n.inMenu&&n.inListview&&!n.toExternal&&(r(t,this.opts.onClick.setSelected,i.setSelected)&&this.setSelected(t.parentElement),r(t,this.opts.onClick.preventDefault,i.preventDefault)&&e.preventDefault(),r(t,this.opts.onClick.close,i.close)&&this.opts.offCanvas&&"function"==typeof this.close&&this.close())}},!0),this.trigger("initAnchors:after")}i18n(e){return function(e,t){return"string"==typeof t&&void 0!==p[t]&&p[t][e]||e}(e,this.conf.language)}_getPanelTitle(e,t){var n;return"function"==typeof this.opts.navbar.title&&(n=this.opts.navbar.title.call(e)),void 0===n&&(n=e.getAttribute("mm-data-title")),"string"==typeof n&&n.length?n:"string"==typeof t?this.i18n(t):"function"==typeof t?this.i18n(t.call(e)):"string"==typeof S.options.navbar.title?this.i18n(S.options.navbar.title):this.i18n("Menu")}}S.version="8.2.2",S.options=i,S.configs=s,S.addons={},S.wrappers={},S.node={},S.vars={};var M={blockUI:!0,moveBackground:!0};var A={clone:!1,menu:{insertMethod:"prepend",insertSelector:"body"},page:{nodetype:"div",selector:null,noSelector:[]}};function T(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function C(e,t,n){var i=t.split(".");e[t="mmEvent"+T(i[0])+T(i[1])]=e[t]||[],e[t].push(n),e.addEventListener(i[0],n)}function N(e,t){var n=t.split(".");t="mmEvent"+T(n[0])+T(n[1]),(e[t]||[]).forEach(t=>{e.removeEventListener(n[0],t)})}S.options.offCanvas=M,S.configs.offCanvas=A;S.prototype.open=function(){this.trigger("open:before"),this.vars.opened||(this._openSetup(),setTimeout(()=>{this._openStart()},this.conf.openingInterval),this.trigger("open:after"))},S.prototype._openSetup=function(){var e=this.opts.offCanvas;this.closeAllOthers(),S.node.page.mmStyle=S.node.page.getAttribute("style")||"",function(e,t,n){var i=t.split(".");(e[t="mmEvent"+T(i[0])+T(i[1])]||[]).forEach(e=>{e(n||{})})}(window,"resize.page",{force:!0});var t=["mm-wrapper_opened"];e.blockUI&&t.push("mm-wrapper_blocking"),"modal"==e.blockUI&&t.push("mm-wrapper_modal"),e.moveBackground&&t.push("mm-wrapper_background"),this.node.wrpr.classList.add(...t),setTimeout(()=>{this.vars.opened=!0},this.conf.openingInterval),this.node.menu.classList.add("mm-menu_opened")},S.prototype._openStart=function(){l(S.node.page,()=>{this.trigger("open:finish")},this.conf.transitionDuration),this.trigger("open:start"),this.node.wrpr.classList.add("mm-wrapper_opening")},S.prototype.close=function(){this.trigger("close:before"),this.vars.opened&&(l(S.node.page,()=>{this.node.menu.classList.remove("mm-menu_opened");this.node.wrpr.classList.remove("mm-wrapper_opened","mm-wrapper_blocking","mm-wrapper_modal","mm-wrapper_background"),S.node.page.setAttribute("style",S.node.page.mmStyle),this.vars.opened=!1,this.trigger("close:finish")},this.conf.transitionDuration),this.trigger("close:start"),this.node.wrpr.classList.remove("mm-wrapper_opening"),this.trigger("close:after"))},S.prototype.closeAllOthers=function(){g(document.body,".mm-menu_offcanvas").forEach(e=>{if(e!==this.node.menu){let t=e.mmApi;t&&t.close&&t.close()}})},S.prototype.setPage=function(e){this.trigger("setPage:before",[e]);var t=this.conf.offCanvas;if(!e){let n="string"==typeof t.page.selector?g(document.body,t.page.selector):_(document.body,t.page.nodetype);if(n=n.filter(e=>!e.matches(".mm-menu, .mm-wrapper__blocker")),t.page.noSelector.length&&(n=n.filter(e=>!e.matches(t.page.noSelector.join(", ")))),n.length>1){let e=b("div");n[0].before(e),n.forEach(t=>{e.append(t)}),n=[e]}e=n[0]}e.classList.add("mm-page","mm-slideout"),e.id=e.id||m(),S.node.page=e,this.trigger("setPage:after",[e])};const H=function(){N(document.body,"keydown.tabguard"),C(document.body,"keydown.tabguard",e=>{9==e.keyCode&&this.node.wrpr.matches(".mm-wrapper_opened")&&e.preventDefault()}),N(window,"resize.page"),C(window,"resize.page",e=>{S.node.page&&(this.node.wrpr.matches(".mm-wrapper_opening")||e.force)&&(S.node.page.style.minHeight=window.innerHeight+"px")})},j=function(){this.trigger("initBlocker:before");var e=this.opts.offCanvas,t=this.conf.offCanvas;if(e.blockUI){if(!S.node.blck){let e=b("div.mm-wrapper__blocker.mm-slideout");e.innerHTML="<a></a>",document.querySelector(t.menu.insertSelector).append(e),S.node.blck=e}var n=e=>{e.preventDefault(),e.stopPropagation(),this.node.wrpr.matches(".mm-wrapper_modal")||this.close()};S.node.blck.addEventListener("mousedown",n),S.node.blck.addEventListener("touchstart",n),S.node.blck.addEventListener("touchmove",n),this.trigger("initBlocker:after")}};var I={aria:!0,text:!0};var O={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}},q={"Close menu":"بستن منو","Close submenu":"بستن زیرمنو","Open submenu":"بازکردن زیرمنو","Toggle submenu":"سوییچ زیرمنو"},D={"Close menu":"Menü schließen","Close submenu":"Untermenü schließen","Open submenu":"Untermenü öffnen","Toggle submenu":"Untermenü wechseln"},B={"Close menu":"Закрыть меню","Close submenu":"Закрыть подменю","Open submenu":"Открыть подменю","Toggle submenu":"Переключить подменю"};h({"Close menu":"Menu sluiten","Close submenu":"Submenu sluiten","Open submenu":"Submenu openen","Toggle submenu":"Submenu wisselen"},"nl"),h(q,"fa"),h(D,"de"),h(B,"ru"),S.options.screenReader=I,S.configs.screenReader=O;var z;z=function(e,t,n){e[t]=n,n?e.setAttribute(t,n.toString()):e.removeAttribute(t)},S.sr_aria=function(e,t,n){z(e,"aria-"+t,n)},S.sr_role=function(e,t){z(e,"role",t)},S.sr_text=function(e){return'<span class="mm-sronly">'+e+"</span>"};var R={fix:!0};const U="ontouchstart"in window||!!navigator.msMaxTouchPoints||!1;S.options.scrollBugFix=R;var W={height:"default"};S.options.autoHeight=W;var F={close:!1,open:!1};S.options.backButton=F;var Y={add:!1,visible:{min:1,max:3}};S.options.columns=Y;var V={add:!1,addTo:"panels",count:!1};S.options.counters=V,S.configs.classNames.counters={counter:"Counter"};var Z={add:!1,addTo:"panels",type:null};S.options.dividers=Z,S.configs.classNames.divider="Divider";var X={menu:{open:!1,node:null,maxStartPos:100,threshold:50},panels:{close:!1},vendors:{hammer:{}}};var G={menu:{width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}}};S.options.drag=X,S.configs.drag=G;var K={drop:!1,fitViewport:!0,event:"click",position:{},tip:!0};var Q={offset:{button:{x:-5,y:5},viewport:{x:20,y:20}},height:{max:880},width:{max:440}};S.options.dropdown=K,S.configs.dropdown=Q;var J={fixed:{insertMethod:"append",insertSelector:"body"},sticky:{offset:0}};S.configs.fixedElements=J,S.configs.classNames.fixedElements={fixed:"Fixed",sticky:"Sticky"};var $={use:!1,top:[],bottom:[],position:"left",type:"default"};S.options.iconbar=$;var ee={add:!1,blockPanel:!0,hideDivider:!1,hideNavbar:!0,visible:3};S.options.iconPanels=ee;var te={enable:!1,enhance:!1};S.options.keyboardNavigation=te;const ne=function(e){N(document.body,"keydown.tabguard"),N(document.body,"focusin.tabguard"),C(document.body,"focusin.tabguard",e=>{if(this.node.wrpr.matches(".mm-wrapper_opened")){let t=e.target;if(t.matches(".mm-tabend")){let e;t.parentElement.matches(".mm-menu")&&S.node.blck&&(e=S.node.blck),t.parentElement.matches(".mm-wrapper__blocker")&&(e=g(document.body,".mm-menu_offcanvas.mm-menu_opened")[0]),e||(e=t.parentElement),e&&_(e,".mm-tabstart")[0].focus()}}}),N(document.body,"keydown.navigate"),C(document.body,"keydown.navigate",t=>{var n=t.target,i=n.closest(".mm-menu");if(i){i.mmApi;if(!n.matches("input, textarea"))switch(t.keyCode){case 13:(n.matches(".mm-toggle")||n.matches(".mm-check"))&&n.dispatchEvent(new Event("click"));break;case 32:case 37:case 38:case 39:case 40:t.preventDefault()}if(e)if(n.matches("input"))switch(t.keyCode){case 27:n.value=""}else{let e=i.mmApi;switch(t.keyCode){case 8:let n=g(i,".mm-panel_opened")[0].mmParent;n&&e.openPanel(n.closest(".mm-panel"));break;case 27:i.matches(".mm-menu_offcanvas")&&e.close()}}}})};var ie={load:!1};S.options.lazySubmenus=ie;var se=[];var ae={breadcrumbs:{separator:"/",removeFirst:!1}};function oe(){var e=this.opts.navbars;if(void 0!==e){e instanceof Array||(e=[e]);var t={};e.length&&(e.forEach(e=>{if(!(e=function(e){return"boolean"==typeof e&&e&&(e={}),"object"!=typeof e&&(e={}),void 0===e.content&&(e.content=["prev","title"]),e.content instanceof Array||(e.content=[e.content]),void 0===e.use&&(e.use=!0),"boolean"==typeof e.use&&e.use&&(e.use=!0),e}(e)).use)return!1;var n=b("div.mm-navbar"),i=e.position;"bottom"!==i&&(i="top"),t[i]||(t[i]=b("div.mm-navbars_"+i)),t[i].append(n);for(let t=0,i=e.content.length;t<i;t++){let i=e.content[t];if("string"==typeof i){let e=oe.navbarContents[i];if("function"==typeof e)e.call(this,n);else{let e=b("span");e.innerHTML=i;let t=_(e);1==t.length&&(e=t[0]),n.append(e)}}else n.append(i)}if("string"==typeof e.type){let t=oe.navbarTypes[e.type];"function"==typeof t&&t.call(this,n)}let s=()=>{n.classList.remove("mm-hidden"),S.sr_aria(n,"hidden",!1)},a=()=>{n.classList.add("mm-hidden"),S.sr_aria(n,"hidden",!0)};"boolean"!=typeof e.use&&P(e.use,s,a)}),this.bind("initMenu:after",()=>{for(let e in t)this.node.menu["bottom"==e?"append":"prepend"](t[e])}))}}S.options.navbars=se,S.configs.navbars=ae,S.configs.classNames.navbars={panelNext:"Next",panelPrev:"Prev",panelTitle:"Title"},oe.navbarContents={breadcrumbs:function(e){var t=b("div.mm-navbar__breadcrumbs");e.append(t),this.bind("initNavbar:after",e=>{if(!e.querySelector(".mm-navbar__breadcrumbs")){_(e,".mm-navbar")[0].classList.add("mm-hidden");for(var t=[],n=b("span.mm-navbar__breadcrumbs"),i=e,s=!0;i;){if(i.matches(".mm-panel")||(i=i.closest(".mm-panel")),!i.parentElement.matches(".mm-listitem_vertical")){var a=g(i,".mm-navbar__title")[0].textContent;a.length&&t.unshift(s?"<span>"+a+"</span>":'<a href="#'+i.id+'">'+a+"</a>"),s=!1}i=i.mmParent}this.conf.navbars.breadcrumbs.removeFirst&&t.shift(),n.innerHTML=t.join('<span class="mm-separator">'+this.conf.navbars.breadcrumbs.separator+"</span>"),_(e,".mm-navbar")[0].append(n)}}),this.bind("openPanel:start",e=>{var n=e.querySelector(".mm-navbar__breadcrumbs");n&&(t.innerHTML=n.innerHTML)}),this.bind("initNavbar:after:sr-aria",e=>{g(e,".mm-breadcrumbs a").forEach(e=>{S.sr_aria(e,"owns",e.getAttribute("href").slice(1))})})},close:function(e){var t=b("a.mm-btn.mm-btn_close.mm-navbar__btn");e.append(t),this.bind("setPage:after",e=>{t.setAttribute("href","#"+e.id)}),this.bind("setPage:after:sr-text",()=>{t.innerHTML=S.sr_text(this.i18n(this.conf.screenReader.text.closeMenu)),S.sr_aria(t,"owns",t.getAttribute("href").slice(1))})},next:function(e){var t,n,i,s=b("a.mm-btn.mm-btn_next.mm-navbar__btn");e.append(s),this.bind("openPanel:start",e=>{t=e.querySelector("."+this.conf.classNames.navbars.panelNext),n=t?t.getAttribute("href"):"",i=t?t.innerHTML:"",n?s.setAttribute("href",n):s.removeAttribute("href"),s.classList[n||i?"remove":"add"]("mm-hidden"),s.innerHTML=i}),this.bind("openPanel:start:sr-aria",e=>{S.sr_aria(s,"hidden",s.matches("mm-hidden")),S.sr_aria(s,"owns",(s.getAttribute("href")||"").slice(1))})},prev:function(e){var t,n,i,s=b("a.mm-btn.mm-btn_prev.mm-navbar__btn");e.append(s),this.bind("initNavbar:after",e=>{_(e,".mm-navbar")[0].classList.add("mm-hidden")}),this.bind("openPanel:start",e=>{e.parentElement.matches(".mm-listitem_vertical")||((t=e.querySelector("."+this.conf.classNames.navbars.panelPrev))||(t=e.querySelector(".mm-navbar__btn.mm-btn_prev")),n=t?t.getAttribute("href"):"",i=t?t.innerHTML:"",n?s.setAttribute("href",n):s.removeAttribute("href"),s.classList[n||i?"remove":"add"]("mm-hidden"),s.innerHTML=i)}),this.bind("initNavbar:after:sr-aria",e=>{S.sr_aria(e.querySelector(".mm-navbar"),"hidden",!0)}),this.bind("openPanel:start:sr-aria",e=>{S.sr_aria(s,"hidden",s.matches(".mm-hidden")),S.sr_aria(s,"owns",(s.getAttribute("href")||"").slice(1))})},searchfield:function(e){"object"!=o(this.opts.searchfield)&&(this.opts.searchfield={});var t=b("div.mm-navbar__searchfield");e.append(t),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=[t]},title:function(e){var t,n,i,s,a=b("a.mm-navbar__title");e.append(a),this.bind("openPanel:start",e=>{e.parentElement.matches(".mm-listitem_vertical")||((i=e.querySelector("."+this.conf.classNames.navbars.panelTitle))||(i=e.querySelector(".mm-navbar__title")),(t=i?i.getAttribute("href"):"")?a.setAttribute("href",t):a.removeAttribute("href"),n=i?i.innerHTML:"",a.innerHTML=n,a.classList[t||n?"remove":"add"]("mm-hidden"))}),this.bind("openPanel:start:sr-aria",e=>{if(this.opts.screenReader.text&&(s||_(this.node.menu,".mm-navbars_top, .mm-navbars_bottom").forEach(e=>{let t=e.querySelector(".mm-btn_prev");t&&(s=t)}),s)){var t=!0;"parent"==this.opts.navbar.titleLink&&(t=!s.matches(".mm-hidden")),S.sr_aria(a,"hidden",t)}})}},oe.navbarTypes={tabs:function(e){e.classList.add("mm-navbar_tabs"),e.parentElement.classList.add("mm-navbars_has-tabs");var t=_(e,"a");e.addEventListener("click",e=>{var t=e.target;if(t.matches("a"))if(t.matches(".mm-navbar__tab_selected"))e.stopImmediatePropagation();else try{this.openPanel(this.node.menu.querySelector(t.getAttribute("href")),!1),e.stopImmediatePropagation()}catch(e){}}),this.bind("openPanel:start",function e(n){t.forEach(e=>{e.classList.remove("mm-navbar__tab_selected")});var i=t.filter(e=>e.matches('[href="#'+n.id+'"]'))[0];if(i)i.classList.add("mm-navbar__tab_selected");else{var s=n.mmParent;s&&e.call(this,s.closest(".mm-panel"))}})}};var re={scroll:!1,update:!1};var le={scrollOffset:0,updateOffset:50};S.options.pageScroll=re,S.configs.pageScroll=le;var me={add:!1,addTo:"panels",cancel:!1,noResults:"No results found.",placeholder:"Search",panel:{add:!1,dividers:!0,fx:"none",id:null,splash:null,title:"Search"},search:!0,showTextItems:!1,showSubPanels:!0};var de={clear:!1,form:!1,input:!1,submit:!1},ce={Search:"جستجو","No results found.":"نتیجه‌ای یافت نشد.",cancel:"انصراف"},pe={Search:"Suche","No results found.":"Keine Ergebnisse gefunden.",cancel:"beenden"},he={Search:"Найти","No results found.":"Ничего не найдено.",cancel:"отменить"};h({Search:"Zoeken","No results found.":"Geen resultaten gevonden.",cancel:"annuleren"},"nl"),h(ce,"fa"),h(pe,"de"),h(he,"ru"),S.options.searchfield=me,S.configs.searchfield=de;const fe=function(){var e=this.opts.searchfield;this.conf.searchfield;if(_(this.node.pnls,".mm-panel_search").length)return null;var t=b("div.mm-panel_search"),n=b("ul");switch(t.append(n),this.node.pnls.append(t),e.panel.id&&(t.id=e.panel.id),e.panel.title&&t.setAttribute("data-mm-title",e.panel.title),e.panel.fx){case!1:break;case"none":t.classList.add("mm-panel_noanimation");break;default:t.classList.add("mm-panel_fx-"+e.panel.fx)}if(e.panel.splash){let n=b("div.mm-panel__content");n.innerHTML=e.panel.splash,t.append(n)}return this.initPanel(t),t},ue=function(e){var t=this.opts.searchfield,n=this.conf.searchfield;if(e.parentElement.matches(".mm-listitem_vertical"))return null;if(s=g(e,".mm-searchfield")[0])return s;function i(e,t){if(t)for(var n in t)e.setAttribute(n,t[n])}var s=b((n.form?"form":"div")+".mm-searchfield"),a=b("div.mm-searchfield__input"),o=b("input");if(o.type="text",o.autocomplete="off",o.placeholder=this.i18n(t.placeholder),a.append(o),s.append(a),e.prepend(s),i(o,n.input),n.clear){let e=b("a.mm-btn.mm-btn_close.mm-searchfield__btn");e.setAttribute("href","#"),a.append(e)}if(i(s,n.form),n.form&&n.submit&&!n.clear){let e=b("a.mm-btn.mm-btn_next.mm-searchfield__btn");e.setAttribute("href","#"),a.append(e)}if(t.cancel){let e=b("a.mm-searchfield__cancel");e.setAttribute("href","#"),e.textContent=this.i18n("cancel"),s.append(e)}return s},ve=function(e){var t=this.opts.searchfield,n=(this.conf.searchfield,{});e.closest(".mm-panel_search")?(n.panels=g(this.node.pnls,".mm-panel"),n.noresults=[e.closest(".mm-panel")]):e.closest(".mm-panel")?(n.panels=[e.closest(".mm-panel")],n.noresults=n.panels):(n.panels=g(this.node.pnls,".mm-panel"),n.noresults=[this.node.menu]),n.panels=n.panels.filter(e=>!e.parentElement.matches(".mm-listitem_vertical")),n.panels=n.panels.filter(e=>!e.matches(".mm-panel_search")),n.listitems=[],n.dividers=[],n.panels.forEach(e=>{n.listitems.push(...g(e,".mm-listitem")),n.dividers.push(...g(e,".mm-divider"))});var i=_(this.node.pnls,".mm-panel_search")[0],s=g(e,"input")[0],a=g(e,".mm-searchfield__cancel")[0];s.mmSearchfield=n,t.panel.add&&t.panel.splash&&(N(s,"focus.splash"),C(s,"focus.splash",e=>{this.openPanel(i)})),t.cancel&&(N(s,"focus.cancel"),C(s,"focus.cancel",e=>{a.classList.add("mm-searchfield__cancel-active")}),N(a,"click.splash"),C(a,"click.splash",e=>{if(e.preventDefault(),a.classList.remove("mm-searchfield__cancel-active"),i.matches(".mm-panel_opened")){let e=_(this.node.pnls,".mm-panel_opened-parent");e.length&&this.openPanel(e[e.length-1])}})),t.panel.add&&"panel"==t.addTo&&this.bind("openPanel:finish",e=>{e===i&&s.focus()}),N(s,"input.search"),C(s,"input.search",e=>{switch(e.keyCode){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:break;default:this.search(s)}}),this.search(s)},be=function(e){if(e){var t=this.opts.searchfield;this.conf.searchfield;if(e.closest(".mm-panel")||(e=_(this.node.pnls,".mm-panel")[0]),!_(e,".mm-panel__noresultsmsg").length){var n=b("div.mm-panel__noresultsmsg.mm-hidden");n.innerHTML=this.i18n(t.noResults),e.append(n)}}};S.prototype.search=function(e,t){var n=this.opts.searchfield;this.conf.searchfield;t=(t=t||""+e.value).toLowerCase().trim();var i=e.mmSearchfield,s=g(e.closest(".mm-searchfield"),".mm-btn"),a=_(this.node.pnls,".mm-panel_search")[0],o=i.panels,r=i.noresults,l=i.listitems,m=i.dividers;if(l.forEach(e=>{e.classList.remove("mm-listitem_nosubitems","mm-listitem_onlysubitems","mm-hidden")}),a&&(_(a,".mm-listview")[0].innerHTML=""),o.forEach(e=>{e.scrollTop=0}),t.length){m.forEach(e=>{e.classList.add("mm-hidden")}),l.forEach(e=>{var i=_(e,".mm-listitem__text")[0],s=!1;i&&function(e){return Array.prototype.slice.call(e.childNodes).filter(e=>3==e.nodeType).map(e=>e.textContent).join(" ")}(i).toLowerCase().indexOf(t)>-1&&(i.matches(".mm-listitem__btn")?n.showSubPanels&&(s=!0):i.matches("a")?s=!0:n.showTextItems&&(s=!0)),s||e.classList.add("mm-hidden")});var d=l.filter(e=>!e.matches(".mm-hidden")).length;if(n.panel.add){let e=[];o.forEach(t=>{let i=w(g(t,".mm-listitem"));if((i=i.filter(e=>!e.matches(".mm-hidden"))).length){if(n.panel.dividers){let n=b("li.mm-divider");n.innerHTML=t.querySelector(".mm-navbar__title").innerHTML,e.push(n)}i.forEach(t=>{e.push(t.cloneNode(!0))})}}),e.forEach(e=>{e.querySelectorAll(".mm-toggle, .mm-check").forEach(e=>{e.remove()})}),_(a,".mm-listview")[0].append(...e),this.openPanel(a)}else n.showSubPanels&&o.forEach(e=>{w(g(e,".mm-listitem")).forEach(e=>{let t=e.mmChild;t&&g(t,".mm-listitem").forEach(e=>{e.classList.remove("mm-hidden")})})}),[...o].reverse().forEach((t,n)=>{let i=t.mmParent;if(i){w(g(t,".mm-listitem")).length?(i.matches(".mm-hidden")&&i.classList.remove("mm-hidden"),i.classList.add("mm-listitem_onlysubitems")):e.closest(".mm-panel")||((t.matches(".mm-panel_opened")||t.matches(".mm-panel_opened-parent"))&&setTimeout(()=>{this.openPanel(i.closest(".mm-panel"))},(n+1)*(1.5*this.conf.openingInterval)),i.classList.add("mm-listitem_nosubitems"))}}),o.forEach(e=>{w(g(e,".mm-listitem")).forEach(e=>{let t=function(e,t){for(var n=[],i=e.previousElementSibling;i;)t&&!i.matches(t)||n.push(i),i=i.previousElementSibling;return n}(e,".mm-divider")[0];t&&t.classList.remove("mm-hidden")})});s.forEach(e=>e.classList.remove("mm-hidden")),r.forEach(e=>{g(e,".mm-panel__noresultsmsg").forEach(e=>e.classList[d?"add":"remove"]("mm-hidden"))}),n.panel.add&&(n.panel.splash&&g(a,".mm-panel__content").forEach(e=>e.classList.add("mm-hidden")),l.forEach(e=>e.classList.remove("mm-hidden")),m.forEach(e=>e.classList.remove("mm-hidden")))}else if(l.forEach(e=>e.classList.remove("mm-hidden")),m.forEach(e=>e.classList.remove("mm-hidden")),s.forEach(e=>e.classList.add("mm-hidden")),r.forEach(e=>{g(e,".mm-panel__noresultsmsg").forEach(e=>e.classList.add("mm-hidden"))}),n.panel.add)if(n.panel.splash)g(a,".mm-panel__content").forEach(e=>e.classList.remove("mm-hidden"));else if(!e.closest(".mm-panel_search")){let e=_(this.node.pnls,".mm-panel_opened-parent");this.openPanel(e.slice(-1)[0])}this.trigger("updateListview")};var ge={add:!1,addTo:"panels"};S.options.sectionIndexer=ge;var _e={current:!0,hover:!1,parent:!1};S.options.setSelected=_e;var ye={collapsed:{use:!1,blockMenu:!0,hideDivider:!1,hideNavbar:!0},expanded:{use:!1,initial:"open"}};S.options.sidebar=ye;S.configs.classNames.toggles={toggle:"Toggle",check:"Check"};
/*!
 * mmenu.js
 * mmenujs.com
 *
 * Copyright (c) Fred Heusschen
 * www.frebsite.nl
 *
 * License: CC-BY-NC-4.0
 * http://creativecommons.org/licenses/by-nc/4.0/
 */
S.addons={offcanvas:function(){if(this.opts.offCanvas){var e=function(e){return"object"!=typeof e&&(e={}),e}(this.opts.offCanvas);this.opts.offCanvas=a(e,S.options.offCanvas);var t=this.conf.offCanvas;this._api.push("open","close","setPage"),this.vars.opened=!1,this.bind("initMenu:before",()=>{t.clone&&(this.node.menu=this.node.menu.cloneNode(!0),this.node.menu.id&&(this.node.menu.id="mm-"+this.node.menu.id),g(this.node.menu,"[id]").forEach(e=>{e.id="mm-"+e.id})),this.node.wrpr=document.documentElement,document.querySelector(t.menu.insertSelector)[t.menu.insertMethod](this.node.menu)}),this.bind("initMenu:after",()=>{j.call(this),this.setPage(S.node.page),H.call(this),this.node.menu.classList.add("mm-menu_offcanvas");let e=window.location.hash;if(e){let t=c(this.node.menu.id);t&&t==e.slice(1)&&setTimeout(()=>{this.open()},1e3)}}),this.bind("setPage:after",e=>{S.node.blck&&_(S.node.blck,"a").forEach(t=>{t.setAttribute("href","#"+e.id)})}),this.bind("open:start:sr-aria",()=>{S.sr_aria(this.node.menu,"hidden",!1)}),this.bind("close:finish:sr-aria",()=>{S.sr_aria(this.node.menu,"hidden",!0)}),this.bind("initMenu:after:sr-aria",()=>{S.sr_aria(this.node.menu,"hidden",!0)}),this.bind("initBlocker:after:sr-text",()=>{_(S.node.blck,"a").forEach(e=>{e.innerHTML=S.sr_text(this.i18n(this.conf.screenReader.text.closeMenu))})}),this.clck.push((e,t)=>{let n=c(this.node.menu.id);if(n&&e.matches('[href="#'+n+'"]')){if(t.inMenu)return this.open(),!0;var i=e.closest(".mm-menu");if(i){var s=i.mmApi;if(s&&s.close)return s.close(),l(i,()=>{this.open()},this.conf.transitionDuration),!0}return this.open(),!0}if((n=S.node.page.id)&&e.matches('[href="#'+n+'"]'))return this.close(),!0})}},screenReader:function(){var e=function(e){return"boolean"==typeof e&&(e={aria:e,text:e}),"object"!=typeof e&&(e={}),e}(this.opts.screenReader);this.opts.screenReader=a(e,S.options.screenReader);var t=this.conf.screenReader;e.aria&&(this.bind("initAddons:after",()=>{this.bind("initMenu:after",function(){this.trigger("initMenu:after:sr-aria",[].slice.call(arguments))}),this.bind("initNavbar:after",function(){this.trigger("initNavbar:after:sr-aria",[].slice.call(arguments))}),this.bind("openPanel:start",function(){this.trigger("openPanel:start:sr-aria",[].slice.call(arguments))}),this.bind("close:start",function(){this.trigger("close:start:sr-aria",[].slice.call(arguments))}),this.bind("close:finish",function(){this.trigger("close:finish:sr-aria",[].slice.call(arguments))}),this.bind("open:start",function(){this.trigger("open:start:sr-aria",[].slice.call(arguments))}),this.bind("initOpened:after",function(){this.trigger("initOpened:after:sr-aria",[].slice.call(arguments))})}),this.bind("updateListview",()=>{this.node.pnls.querySelectorAll(".mm-listitem").forEach(e=>{S.sr_aria(e,"hidden",e.matches(".mm-hidden"))})}),this.bind("openPanel:start",e=>{var t=g(this.node.pnls,".mm-panel").filter(t=>t!==e).filter(e=>!e.parentElement.matches(".mm-panel")),n=[e];g(e,".mm-listitem_vertical .mm-listitem_opened").forEach(e=>{n.push(..._(e,".mm-panel"))}),t.forEach(e=>{S.sr_aria(e,"hidden",!0)}),n.forEach(e=>{S.sr_aria(e,"hidden",!1)})}),this.bind("closePanel",e=>{S.sr_aria(e,"hidden",!0)}),this.bind("initPanel:after",e=>{g(e,".mm-btn").forEach(e=>{S.sr_aria(e,"haspopup",!0);let t=e.getAttribute("href");t&&S.sr_aria(e,"owns",t.replace("#",""))})}),this.bind("initNavbar:after",e=>{var t=_(e,".mm-navbar")[0],n=t.matches(".mm-hidden");S.sr_aria(t,"hidden",n)}),e.text&&"parent"==this.opts.navbar.titleLink&&this.bind("initNavbar:after",e=>{var t=_(e,".mm-navbar")[0],n=!!t.querySelector(".mm-btn_prev");S.sr_aria(g(t,".mm-navbar__title")[0],"hidden",n)})),e.text&&(this.bind("initAddons:after",()=>{this.bind("setPage:after",function(){this.trigger("setPage:after:sr-text",[].slice.call(arguments))}),this.bind("initBlocker:after",function(){this.trigger("initBlocker:after:sr-text",[].slice.call(arguments))})}),this.bind("initNavbar:after",e=>{let n=_(e,".mm-navbar")[0];if(n){let e=_(n,".mm-btn_prev")[0];e&&(e.innerHTML=S.sr_text(this.i18n(t.text.closeSubmenu)))}}),this.bind("initListview:after",e=>{let n=e.mmParent;if(n){let e=_(n,".mm-btn_next")[0];if(e){let n=this.i18n(t.text[e.parentElement.matches(".mm-listitem_vertical")?"toggleSubmenu":"openSubmenu"]);e.innerHTML+=S.sr_text(n)}}}))},scrollBugFix:function(){if(U&&this.opts.offCanvas&&this.opts.offCanvas.blockUI){var e=function(e){return"boolean"==typeof e&&(e={fix:e}),"object"!=typeof e&&(e={}),e}(this.opts.scrollBugFix);if(this.opts.scrollBugFix=a(e,S.options.scrollBugFix),e.fix){var t,n,i,s=(t=this.node.menu,n="",i=-1,t.addEventListener("touchstart",e=>{i=e.changedTouches[0].pageY}),t.addEventListener("touchmove",e=>{var t=e.changedTouches[0].pageY;n=t>i?"down":"up",i=t}),{get:()=>n});this.node.menu.addEventListener("scroll",o,{passive:!1}),this.node.menu.addEventListener("touchmove",e=>{var t=e.target.closest(".mm-panel");t?t.scrollHeight===t.offsetHeight?o(e):(0==t.scrollTop&&"down"==s.get()||t.scrollHeight==t.scrollTop+t.offsetHeight&&"up"==s.get())&&o(e):o(e)},{passive:!1}),this.bind("open:start",()=>{_(this.node.pnls,".mm-panel_opened")[0].scrollTop=0}),window.addEventListener("orientationchange",e=>{var t=_(this.node.pnls,".mm-panel_opened")[0];t.scrollTop=0,t.style["-webkit-overflow-scrolling"]="auto",t.style["-webkit-overflow-scrolling"]="touch"})}}function o(e){e.preventDefault(),e.stopPropagation()}},autoHeight:function(){var e=function(e){return"boolean"==typeof e&&e&&(e={height:"auto"}),"string"==typeof e&&(e={height:e}),"object"!=typeof e&&(e={}),e}(this.opts.autoHeight);if(this.opts.autoHeight=a(e,S.options.autoHeight),"auto"!=e.height&&"highest"!=e.height)return;const t=(()=>{const t=()=>{var e=_(this.node.pnls,".mm-panel_opened")[0];return e&&(e=i(e)),e||(e=_(this.node.pnls,".mm-panel")[0]),e.offsetHeight},n=()=>{var e=0;return _(this.node.pnls,".mm-panel").forEach(t=>{t=i(t),e=Math.max(e,t.offsetHeight)}),e},i=e=>(e.parentElement.matches(".mm-listitem_vertical")&&(e=y(e,".mm-panel").filter(e=>!e.parentElement.matches(".mm-listitem_vertical"))[0]),e);return()=>{if(!this.opts.offCanvas||this.vars.opened){var i=window.getComputedStyle(this.node.pnls),s=Math.max(parseInt(i.top,10),0)||0,a=Math.max(parseInt(i.bottom,10),0)||0,o=0;this.node.menu.classList.add("mm-menu_autoheight-measuring"),"auto"==e.height?o=t():"highest"==e.height&&(o=n()),this.node.menu.style.height=o+s+a+"px",this.node.menu.classList.remove("mm-menu_autoheight-measuring")}}})();this.bind("initMenu:after",()=>{this.node.menu.classList.add("mm-menu_autoheight")}),this.opts.offCanvas&&this.bind("open:start",t),"highest"==e.height&&this.bind("initPanels:after",t),"auto"==e.height&&(this.bind("updateListview",t),this.bind("openPanel:start",t))},backButton:function(){if(this.opts.offCanvas){var e=function(e){return"boolean"==typeof e&&(e={close:e}),"object"!=typeof e&&(e={}),e}(this.opts.backButton);this.opts.backButton=a(e,S.options.backButton);var t="#"+this.node.menu.id;if(e.close){var n=[];const e=()=>{n=[t],_(this.node.pnls,".mm-panel_opened, .mm-panel_opened-parent").forEach(e=>{n.push("#"+e.id)})};this.bind("open:finish",()=>{history.pushState(null,document.title,t)}),this.bind("open:finish",e),this.bind("openPanel:finish",e),this.bind("close:finish",()=>{n=[],history.back(),history.pushState(null,document.title,location.pathname+location.search)}),window.addEventListener("popstate",e=>{if(this.vars.opened&&n.length){var i=(n=n.slice(0,-1))[n.length-1];i==t?this.close():(this.openPanel(this.node.menu.querySelector(i)),history.pushState(null,document.title,t))}})}e.open&&window.addEventListener("popstate",e=>{this.vars.opened||location.hash!=t||this.open()})}},columns:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e}),"number"==typeof e&&(e={add:!0,visible:e}),"object"!=typeof e&&(e={}),"number"==typeof e.visible&&(e.visible={min:e.visible,max:e.visible}),e}(this.opts.columns);if(this.opts.columns=a(e,S.options.columns),e.add){e.visible.min=Math.max(1,Math.min(6,e.visible.min)),e.visible.max=Math.max(e.visible.min,Math.min(6,e.visible.max));for(var t=[],n=[],i=["mm-panel_opened","mm-panel_opened-parent","mm-panel_highest"],s=0;s<=e.visible.max;s++)t.push("mm-menu_columns-"+s),n.push("mm-panel_columns-"+s);i.push(...n),this.bind("openPanel:before",e=>{var t;if(e&&(t=e.mmParent),t&&(t=t.closest(".mm-panel"))){var n=t.className;if(n.length&&(n=n.split("mm-panel_columns-")[1]))for(var s=parseInt(n.split(" ")[0],10)+1;s>0;){if(!(e=_(this.node.pnls,".mm-panel_columns-"+s)[0])){s=-1;break}console.log(e),s++,e.classList.remove(...i),e.classList.add("mm-hidden")}}}),this.bind("openPanel:start",i=>{var s=_(this.node.pnls,".mm-panel_opened-parent").length;i.matches(".mm-panel_opened-parent")||s++,s=Math.min(e.visible.max,Math.max(e.visible.min,s)),this.node.menu.classList.remove(...t),this.node.menu.classList.add("mm-menu_columns-"+s);var a=[];_(this.node.pnls,".mm-panel").forEach(e=>{e.classList.remove(...n),e.matches(".mm-panel_opened-parent")&&a.push(e)}),a.push(i),a.slice(-e.visible.max).forEach((e,t)=>{e.classList.add("mm-panel_columns-"+t)})})}},counters:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e,addTo:"panels",count:e}),"object"!=typeof e&&(e={}),"panels"==e.addTo&&(e.addTo=".mm-panel"),e}(this.opts.counters);if(this.opts.counters=a(e,S.options.counters),this.bind("initListview:after",e=>{var t=this.conf.classNames.counters.counter;e.querySelectorAll("."+t).forEach(e=>{E(e,t,"mm-counter")})}),e.add&&this.bind("initListview:after",t=>{if(t.matches(e.addTo)){var n=t.mmParent;if(n&&!n.querySelector(".mm-counter")){let e=b("span.mm-counter"),t=_(n,".mm-btn")[0];t&&t.prepend(e)}}}),e.count){const e=e=>{(e?[e]:_(this.node.pnls,".mm-panel")).forEach(e=>{var t=e.mmParent;if(t){var n=t.querySelector(".mm-counter");if(n){var i=[];_(e,".mm-listview").forEach(e=>{i.push(..._(e))}),n.innerHTML=w(i).length.toString()}}})};this.bind("initListview:after",e),this.bind("updateListview",e)}},dividers:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e}),"object"!=typeof e&&(e={}),"panels"==e.addTo&&(e.addTo=".mm-panel"),e}(this.opts.dividers);this.opts.dividers=a(e,S.options.dividers),this.bind("initListview:after",e=>{_(e,"ul, ol").forEach(e=>{_(e).forEach(e=>{E(e,this.conf.classNames.divider,"mm-divider"),e.matches(".mm-divider")&&e.classList.remove("mm-listitem")})})}),e.type&&this.bind("initMenu:after",()=>{this.node.menu.classList.add("mm-menu_dividers-"+e.type)}),e.add&&this.bind("initListview:after",t=>{t.matches(e.addTo)&&(g(t,".mm-divider").forEach(e=>{e.remove()}),g(t,".mm-listview").forEach(e=>{var t="";w(_(e)).forEach(n=>{let i=_(n,".mm-listitem__text")[0].textContent.trim().toLowerCase()[0];if(i.length&&i!=t){t=i;let s=b("li.mm-divider");s.textContent=i,e.insertBefore(s,n)}})}))})},drag:function(){if(this.opts.offCanvas&&!("function"!=typeof window.Hammer||window.Hammer.VERSION<2)){var e=function(e){return"boolean"==typeof e&&(e={menu:e,panels:e}),"object"!=typeof e&&(e={}),"boolean"==typeof e.menu&&(e.menu={open:e.menu}),"object"!=typeof e.menu&&(e.menu={}),"boolean"==typeof e.panels&&(e.panels={close:e.panels}),"object"!=typeof e.panels&&(e.panels={}),e}(this.opts.drag);this.opts.drag=a(e,S.options.drag);var t=this.conf.drag;e.menu.open&&this.bind("setPage:after",()=>{var i,s,a,o={events:"panleft panright",typeLower:"x",typeUpper:"X",open_dir:"right",close_dir:"left",negative:!1},l="width",m="innerWidth",d=o.open_dir,c=function(t){t<=e.menu.maxStartPos&&(h=1)},p=function(){return g(document.body,".mm-slideout")},h=0,f=0,u=0,v=this.opts.extensions.all,b=void 0===v?"left":v.indexOf("mm-menu_position-right")>-1?"right":v.indexOf("mm-menu_position-top")>-1?"top":v.indexOf("mm-menu_position-bottom")>-1?"bottom":"left",_=void 0===v?"back":v.indexOf("mm-menu_position-top")>-1||v.indexOf("mm-menu_position-bottom")>-1||v.indexOf("mm-menu_position-front")>-1?"front":"back";switch(b){case"top":case"bottom":o.events="panup pandown",o.typeLower="y",o.typeUpper="Y",l="height",m="innerHeight"}switch(b){case"right":case"bottom":o.negative=!0,c=function(t){t>=window[m]-e.menu.maxStartPos&&(h=1)}}switch(b){case"right":o.open_dir="left",o.close_dir="right";break;case"top":o.open_dir="down",o.close_dir="up";break;case"bottom":o.open_dir="up",o.close_dir="down"}switch(_){case"front":p=function(){return[this.node.menu]}}var y=r(this.node.menu,e.menu.node,S.node.page);"string"==typeof y&&(y=document.querySelector(y));var w=new window.Hammer(y,this.opts.drag.vendors.hammer);w.on("panstart",e=>{c.call(this,e.center[o.typeLower]),a=p.call(this),d=o.open_dir}),w.on(o.events+" panend",e=>{h>0&&e.preventDefault()}),w.on(o.events,r=>{if(i=r["delta"+o.typeUpper],o.negative&&(i=-i),i!=f&&(d=i>=f?o.open_dir:o.close_dir),(f=i)>e.menu.threshold&&1==h){if(this.node.wrpr.matches(".mm-wrapper_opened"))return;h=2,this._openSetup(),this.trigger("open:start"),this.node.wrpr.classList.add("mm-wrapper_dragging"),u=n(window[m]*t.menu[l].perc,t.menu[l].min,t.menu[l].max)}if(2==h){s=n(f,10,u)-("front"==_?u:0),o.negative&&(s=-s);let e="translate"+o.typeUpper+"("+s+"px )";a.forEach(t=>{t.style["-webkit-transform"]="-webkit-"+e,t.style.transform=e})}}),w.on("panend",e=>{2==h&&(this.node.wrpr.classList.remove("mm-wrapper_dragging"),a.forEach(e=>{e.style["-webkit-transform"]="",e.style.transform=""}),this[d==o.open_dir?"_openStart":"close"]()),h=0})}),e.panels.close&&this.bind("initPanel:after",e=>{var t=e["mmParent "];if(t){t=t.closest(".mm-panel");var n=new window.Hammer(e,this.opts.drag.vendors.hammer),i=null;n.on("panright",e=>{i||(this.openPanel(t),i=setTimeout(()=>{clearTimeout(i),i=null},this.conf.openingInterval+this.conf.transitionDuration))})}})}function n(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}},dropdown:function(){if(this.opts.offCanvas){var e=function(e){return"boolean"==typeof e&&e&&(e={drop:e}),"object"!=typeof e&&(e={}),"string"==typeof e.position&&(e.position={of:e.position}),e}(this.opts.dropdown);this.opts.dropdown=a(e,S.options.dropdown);var t=this.conf.dropdown;if(e.drop){var n;this.bind("initMenu:after",()=>{if(this.node.menu.classList.add("mm-menu_dropdown"),"string"!=typeof e.position.of){let t=c(this.node.menu.id);t&&t.length&&(e.position.of='[href="#'+t+'"]')}if("string"==typeof e.position.of){n=g(document.body,e.position.of)[0];var t=e.event.split(" ");1==t.length&&(t[1]=t[0]),"hover"==t[0]&&n.addEventListener("mouseenter",e=>{this.open()},{passive:!0}),"hover"==t[1]&&this.node.menu.addEventListener("mouseleave",e=>{this.close()},{passive:!0})}}),this.bind("open:start",()=>{this.node.menu.mmStyle=this.node.menu.getAttribute("style"),this.node.wrpr.classList.add("mm-wrapper_dropdown")}),this.bind("close:finish",()=>{this.node.menu.setAttribute("style",this.node.menu.mmStyle),this.node.wrpr.classList.remove("mm-wrapper_dropdown")});var i=function(i,s){var a,o,r,l=s[0],m=s[1],d="x"==i?"offsetWidth":"offsetHeight",c="x"==i?"left":"top",p="x"==i?"right":"bottom",h="x"==i?"width":"height",f="x"==i?"innerWidth":"innerHeight",u="x"==i?"maxWidth":"maxHeight",v=null,b=window["x"==i?"scrollX":"scrollY"],g=(a=c,n.getBoundingClientRect()[a]+document.body["left"===a?"scrollLeft":"scrollTop"]-b),_=g+n[d],y=window[f],w=t.offset.button[i]+t.offset.viewport[i];if(e.position[i])switch(e.position[i]){case"left":case"bottom":v="after";break;case"right":case"top":v="before"}return null===v&&(v=g+(_-g)/2<y/2?"after":"before"),"after"==v?(r=y-((o="x"==i?g:_)+w),l[c]=o+t.offset.button[i]+"px",l[p]="auto",e.tip&&m.push("mm-menu_tip-"+("x"==i?"left":"top"))):(r=(o="x"==i?_:g)-w,l[p]="calc( 100% - "+(o-t.offset.button[i])+"px )",l[c]="auto",e.tip&&m.push("mm-menu_tip-"+("x"==i?"right":"bottom"))),e.fitViewport&&(l[u]=Math.min(t[h].max,r)+"px"),[l,m]};this.bind("open:start",s),window.addEventListener("resize",e=>{s.call(this)},{passive:!0}),this.opts.offCanvas.blockUI||window.addEventListener("scroll",e=>{s.call(this)},{passive:!0})}}function s(){if(this.vars.opened){this.node.menu.setAttribute("style",this.node.menu.mmStyle);var t=[{},[]];t=i.call(this,"y",t),t=i.call(this,"x",t);for(let e in t[0])this.node.menu.style[e]=t[0][e];e.tip&&(this.node.menu.classList.remove("mm-menu_tip-left","mm-menu_tip-right","mm-menu_tip-top","mm-menu_tip-bottom"),this.node.menu.classList.add(...t[1]))}}},fixedElements:function(){if(this.opts.offCanvas){var e,t,n,i,s=this.conf.fixedElements;this.bind("setPage:after",a=>{e=this.conf.classNames.fixedElements.fixed,i=g(document,s.fixed.insertSelector)[0],g(a,"."+e).forEach(t=>{E(t,e,"mm-slideout"),i[s.fixed.insertMethod](t)}),g(a,"."+(t=this.conf.classNames.fixedElements.sticky)).forEach(e=>{E(e,t,"mm-sticky")}),n=g(a,".mm-sticky")}),this.bind("open:start",()=>{if(n.length&&"hidden"==window.getComputedStyle(this.node.wrpr).overflow){let e=window.scrollY+s.sticky.offset;n.forEach(t=>{t.style.top=parseInt(window.getComputedStyle(t).top,10)+e+"px"})}}),this.bind("close:finish",()=>{n.forEach(e=>{e.style.top=""})})}},iconbar:function(){var e,t=function(e){return"array"==o(e)&&(e={use:!0,top:e}),"object"!=o(e)&&(e={}),void 0===e.use&&(e.use=!0),"boolean"==typeof e.use&&e.use&&(e.use=!0),e}(this.opts.iconbar);if(this.opts.iconbar=a(t,S.options.iconbar),t.use&&(["top","bottom"].forEach((n,i)=>{var s=t[n];"array"!=o(s)&&(s=[s]);var a=b("div.mm-iconbar__"+n);for(let e=0,t=s.length;e<t;e++)"string"==typeof s[e]?a.innerHTML+=s[e]:a.append(s[e]);a.children.length&&(e||(e=b("div.mm-iconbar")),e.append(a))}),e)){this.bind("initMenu:after",()=>{this.node.menu.prepend(e)});let n="mm-menu_iconbar-"+t.position,i=()=>{this.node.menu.classList.add(n),S.sr_aria(e,"hidden",!1)},s=()=>{this.node.menu.classList.remove(n),S.sr_aria(e,"hidden",!0)};if("boolean"==typeof t.use?this.bind("initMenu:after",i):P(t.use,i,s),"tabs"==t.type){e.classList.add("mm-iconbar_tabs"),e.addEventListener("click",e=>{var t=e.target;if(t.matches("a"))if(t.matches(".mm-iconbar__tab_selected"))e.stopImmediatePropagation();else try{var n=this.node.menu.querySelector(t.getAttribute("href"))[0];n&&n.matches(".mm-panel")&&(e.preventDefault(),e.stopImmediatePropagation(),this.openPanel(n,!1))}catch(e){}});const t=n=>{g(e,"a").forEach(e=>{e.classList.remove("mm-iconbar__tab_selected")});var i=g(e,'[href="#'+n.id+'"]')[0];if(i)i.classList.add("mm-iconbar__tab_selected");else{let e=n.mmParent;e&&t(e.closest(".mm-panel"))}};this.bind("openPanel:start",t)}}},iconPanels:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e}),"number"!=typeof e&&"string"!=typeof e||(e={add:!0,visible:e}),"object"!=typeof e&&(e={}),e}(this.opts.iconPanels);this.opts.iconPanels=a(e,S.options.iconPanels);var t=!1;if("first"==e.visible&&(t=!0,e.visible=1),e.visible=Math.min(3,Math.max(1,e.visible)),e.visible++,e.add){this.bind("initMenu:after",()=>{var t=["mm-menu_iconpanel"];e.hideNavbar&&t.push("mm-menu_hidenavbar"),e.hideDivider&&t.push("mm-menu_hidedivider"),this.node.menu.classList.add(...t)});var n=[];if(!t)for(var i=0;i<=e.visible;i++)n.push("mm-panel_iconpanel-"+i);this.bind("openPanel:start",i=>{var s=_(this.node.pnls,".mm-panel");if(!(i=i||s[0]).parentElement.matches(".mm-listitem_vertical"))if(t)s.forEach((e,t)=>{e.classList[0==t?"add":"remove"]("mm-panel_iconpanel-first")});else{s.forEach(e=>{e.classList.remove(...n)}),s=s.filter(e=>e.matches(".mm-panel_opened-parent"));let t=!1;s.forEach(e=>{i===e&&(t=!0)}),t||s.push(i),s.forEach(e=>{e.classList.remove("mm-hidden")}),(s=s.slice(-e.visible)).forEach((e,t)=>{e.classList.add("mm-panel_iconpanel-"+t)})}}),this.bind("initListview:after",t=>{if(e.blockPanel&&!t.parentElement.matches(".mm-listitem_vertical")&&!_(t,".mm-panel__blocker")[0]){let e=b("a.mm-panel__blocker");e.setAttribute("href","#"+t.closest(".mm-panel").id),t.prepend(e)}})}},keyboardNavigation:function(){if(!U){var e=function(e){return"boolean"!=typeof e&&"string"!=typeof e||(e={enable:e}),"object"!=typeof e&&(e={}),e}(this.opts.keyboardNavigation);if(this.opts.keyboardNavigation=a(e,S.options.keyboardNavigation),e.enable){let t=b("button.mm-tabstart.mm-sronly"),n=b("button.mm-tabend.mm-sronly"),i=b("button.mm-tabend.mm-sronly");this.bind("initMenu:after",()=>{e.enhance&&this.node.menu.classList.add("mm-menu_keyboardfocus"),ne.call(this,e.enhance)}),this.bind("initOpened:before",()=>{this.node.menu.prepend(t),this.node.menu.append(n),_(this.node.menu,".mm-navbars-top, .mm-navbars-bottom").forEach(e=>{e.querySelectorAll(".mm-navbar__title").forEach(e=>{e.setAttribute("tabindex","-1")})})}),this.bind("initBlocker:after",()=>{S.node.blck.append(i),_(S.node.blck,"a")[0].classList.add("mm-tabstart")});let s="input, select, textarea, button, label, a[href]";const a=t=>{t=t||_(this.node.pnls,".mm-panel_opened")[0];var n=null,i=document.activeElement.closest(".mm-navbar");if(!i||i.closest(".mm-menu")!=this.node.menu){if("default"==e.enable&&((n=g(t,".mm-listview a[href]:not(.mm-hidden)")[0])||(n=g(t,s+":not(.mm-hidden)")[0]),!n)){let e=[];_(this.node.menu,".mm-navbars_top, .mm-navbars_bottom").forEach(t=>{e.push(...g(t,s+":not(.mm-hidden)"))}),n=e[0]}n||(n=_(this.node.menu,".mm-tabstart")[0]),n&&n.focus()}};this.bind("open:finish",a),this.bind("openPanel:finish",a),this.bind("initOpened:after:sr-aria",()=>{[this.node.menu,S.node.blck].forEach(e=>{_(e,".mm-tabstart, .mm-tabend").forEach(e=>{S.sr_aria(e,"hidden",!0),S.sr_role(e,"presentation")})})})}}},lazySubmenus:function(){var e=function(e){return"boolean"==typeof e&&(e={load:e}),"object"!=typeof e&&(e={}),e}(this.opts.lazySubmenus);this.opts.lazySubmenus=a(e,S.options.lazySubmenus),e.load&&(this.bind("initMenu:after",()=>{var e=[];g(this.node.pnls,"li").forEach(t=>{e.push(..._(t,this.conf.panelNodetype.join(", ")))}),e.filter(e=>!e.matches(".mm-listview_inset")).filter(e=>!e.matches(".mm-nolistview")).filter(e=>!e.matches(".mm-nopanel")).forEach(e=>{e.classList.add("mm-panel_lazysubmenu","mm-nolistview","mm-nopanel")})}),this.bind("initPanels:before",()=>{_(this.node.pnls,this.conf.panelNodetype.join(", ")).forEach(e=>{var t=".mm-panel_lazysubmenu",n=g(e,t);e.matches(t)&&n.unshift(e),n.filter(e=>!e.matches(".mm-panel_lazysubmenu .mm-panel_lazysubmenu")).forEach(e=>{e.classList.remove("mm-panel_lazysubmenu","mm-nolistview","mm-nopanel")})})}),this.bind("initOpened:before",()=>{var e=[];g(this.node.pnls,"."+this.conf.classNames.selected).forEach(t=>{e.push(...y(t,".mm-panel_lazysubmenu"))}),e.length&&(e.forEach(e=>{e.classList.remove("mm-panel_lazysubmenu","mm-nolistview mm-nopanel")}),this.initPanel(e[e.length-1]))}),this.bind("openPanel:before",e=>{var t=".mm-panel_lazysubmenu",n=g(e,t);e.matches(t)&&n.unshift(e),(n=n.filter(e=>!e.matches(".mm-panel_lazysubmenu .mm-panel_lazysubmenu"))).forEach(e=>{this.initPanel(e)})}))},navbars:oe,pageScroll:function(){var e=function(e){return"boolean"==typeof e&&(e={scroll:e}),"object"!=typeof e&&(e={}),e}(this.opts.pageScroll);this.opts.pageScroll=a(e,S.options.pageScroll);var t,n=this.conf.pageScroll;function i(){t&&window.scrollTo({top:t.getBoundingClientRect().top-n.scrollOffset,behavior:"smooth"}),t=null}function s(e){try{return"#"!=e&&"#"==e.slice(0,1)?S.node.page.querySelector(e):null}catch(e){return null}}if(e.scroll&&this.bind("close:finish",()=>{i()}),this.opts.offCanvas&&e.scroll&&this.clck.push((e,n)=>{if(t=null,n.inMenu){var a=e.getAttribute("href");if(t=s(a))return this.node.menu.matches(".mm-menu_sidebar-expanded")&&this.node.wrpr.matches(".mm-wrapper_sidebar-expanded")?void i():{close:!0}}}),e.update){let e=[];this.bind("initListview:after",t=>{L(g(t,".mm-listitem")).forEach(t=>{var n=s(t.getAttribute("href"));n&&e.unshift(n)})});let t=-1;window.addEventListener("scroll",i=>{for(var s=window.scrollY,a=0;a<e.length;a++)if(e[a].offsetTop<s+n.updateOffset){if(t!==a){t=a;let n=L(g(_(this.node.pnls,".mm-panel_opened")[0],".mm-listitem"));(n=n.filter(t=>t.matches('[href="#'+e[a].id+'"]'))).length&&this.setSelected(n[0].parentElement)}break}})}},searchfield:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e}),"object"!=typeof e&&(e={}),"boolean"==typeof e.panel&&(e.panel={add:e.panel}),"object"!=typeof e.panel&&(e.panel={}),"panel"==e.addTo&&(e.panel.add=!0),e.panel.add&&(e.showSubPanels=!1,e.panel.splash&&(e.cancel=!0)),e}(this.opts.searchfield);this.opts.searchfield=a(e,S.options.searchfield);this.conf.searchfield;e.add&&(this.bind("close:start",()=>{g(this.node.menu,".mm-searchfield").forEach(e=>{e.blur()})}),this.bind("initPanel:after",t=>{var n=null;e.panel.add&&(n=fe.call(this));var i=null;switch(e.addTo){case"panels":i=[t];break;case"panel":i=[n];break;default:"string"==typeof e.addTo?i=g(this.node.menu,e.addTo):"array"==o(e.addTo)&&(i=e.addTo)}i.forEach(t=>{t=ue.call(this,t),e.search&&t&&ve.call(this,t)}),e.noResults&&be.call(this,e.panel.add?n:t)}),this.clck.push((e,t)=>{if(t.inMenu&&e.matches(".mm-searchfield__btn")){if(e.matches(".mm-btn_close")){let t=g(e.closest(".mm-searchfield"),"input")[0];return t.value="",this.search(t),!0}if(e.matches(".mm-btn_next")){let t=e.closest("form");return t&&t.submit(),!0}}}))},sectionIndexer:function(){var e=function(e){return"boolean"==typeof e&&(e={add:e}),"object"!=typeof e&&(e={}),e}(this.opts.sectionIndexer);this.opts.sectionIndexer=a(e,S.options.sectionIndexer),e.add&&this.bind("initPanels:after",()=>{if(!this.node.indx){let e="";"abcdefghijklmnopqrstuvwxyz".split("").forEach(t=>{e+='<a href="#">'+t+"</a>"});let t=b("div.mm-sectionindexer");t.innerHTML=e,this.node.pnls.prepend(t),this.node.indx=t,this.node.indx.addEventListener("click",e=>{e.target.matches("a")&&e.preventDefault()});let n=e=>{if(e.target.matches("a")){var t=e.target.textContent,n=_(this.node.pnls,".mm-panel_opened")[0],i=-1,s=n.scrollTop;n.scrollTop=0,g(n,".mm-divider").filter(e=>!e.matches(".mm-hidden")).forEach(e=>{i<0&&t==e.textContent.trim().slice(0,1).toLowerCase()&&(i=e.offsetTop)}),n.scrollTop=i>-1?i:s}};U?(this.node.indx.addEventListener("touchstart",n),this.node.indx.addEventListener("touchmove",n)):this.node.indx.addEventListener("mouseover",n)}this.bind("openPanel:start",e=>{var t=g(e,".mm-divider").filter(e=>!e.matches(".mm-hidden")).length;this.node.indx.classList[t?"add":"remove"]("mm-sectionindexer_active")})})},setSelected:function(){var e=function(e){return"boolean"==typeof e&&(e={hover:e,parent:e}),"object"!=typeof e&&(e={}),e}(this.opts.setSelected);if(this.opts.setSelected=a(e,S.options.setSelected),"detect"==e.current){const e=t=>{t=t.split("?")[0].split("#")[0];var n=this.node.menu.querySelector('a[href="'+t+'"], a[href="'+t+'/"]');if(n)this.setSelected(n.parentElement);else{var i=t.split("/").slice(0,-1);i.length&&e(i.join("/"))}};this.bind("initMenu:after",()=>{e.call(this,window.location.href)})}else e.current||this.bind("initListview:after",e=>{g(e,".mm-listitem_selected").forEach(e=>{e.classList.remove("mm-listitem_selected")})});e.hover&&this.bind("initMenu:after",()=>{this.node.menu.classList.add("mm-menu_selected-hover")}),e.parent&&(this.bind("openPanel:finish",e=>{g(this.node.pnls,".mm-listitem_selected-parent").forEach(e=>{e.classList.remove("mm-listitem_selected-parent")});for(var t=e.mmParent;t;)t.matches(".mm-listitem_vertical")||t.classList.add("mm-listitem_selected-parent"),t=(t=t.closest(".mm-panel")).mmParent}),this.bind("initMenu:after",()=>{this.node.menu.classList.add("mm-menu_selected-parent")}))},sidebar:function(){if(this.opts.offCanvas){var e=function(e){return("string"==typeof e||"boolean"==typeof e&&e||"number"==typeof e)&&(e={expanded:e}),"object"!=typeof e&&(e={}),"boolean"==typeof e.collapsed&&e.collapsed&&(e.collapsed={use:!0}),"string"!=typeof e.collapsed&&"number"!=typeof e.collapsed||(e.collapsed={use:e.collapsed}),"object"!=typeof e.collapsed&&(e.collapsed={}),"boolean"==typeof e.expanded&&e.expanded&&(e.expanded={use:!0}),"string"!=typeof e.expanded&&"number"!=typeof e.expanded||(e.expanded={use:e.expanded}),"object"!=typeof e.expanded&&(e.expanded={}),e}(this.opts.sidebar);if(this.opts.sidebar=a(e,S.options.sidebar),e.collapsed.use){this.bind("initMenu:after",()=>{if(this.node.menu.classList.add("mm-menu_sidebar-collapsed"),e.collapsed.blockMenu&&this.opts.offCanvas&&!_(this.node.menu,".mm-menu__blocker")[0]){let e=b("a.mm-menu__blocker");e.setAttribute("href","#"+this.node.menu.id),this.node.menu.prepend(e)}e.collapsed.hideNavbar&&this.node.menu.classList.add("mm-menu_hidenavbar"),e.collapsed.hideDivider&&this.node.menu.classList.add("mm-menu_hidedivider")});let t=()=>{this.node.wrpr.classList.add("mm-wrapper_sidebar-collapsed")},n=()=>{this.node.wrpr.classList.remove("mm-wrapper_sidebar-collapsed")};"boolean"==typeof e.collapsed.use?this.bind("initMenu:after",t):P(e.collapsed.use,t,n)}if(e.expanded.use){this.bind("initMenu:after",()=>{this.node.menu.classList.add("mm-menu_sidebar-expanded")});let n=()=>{this.node.wrpr.classList.add("mm-wrapper_sidebar-expanded"),this.node.wrpr.matches(".mm-wrapper_sidebar-closed")||this.open()},i=()=>{this.node.wrpr.classList.remove("mm-wrapper_sidebar-expanded"),this.close()};"boolean"==typeof e.expanded.use?this.bind("initMenu:after",n):P(e.expanded.use,n,i),this.bind("close:start",()=>{this.node.wrpr.matches(".mm-wrapper_sidebar-expanded")&&(this.node.wrpr.classList.add("mm-wrapper_sidebar-closed"),"remember"==e.expanded.initial&&window.localStorage.setItem("mmenuExpandedState","closed"))}),this.bind("open:start",()=>{this.node.wrpr.matches(".mm-wrapper_sidebar-expanded")&&(this.node.wrpr.classList.remove("mm-wrapper_sidebar-closed"),"remember"==e.expanded.initial&&window.localStorage.setItem("mmenuExpandedState","open"))});var t=e.expanded.initial;if("remember"==e.expanded.initial){let e=window.localStorage.getItem("mmenuExpandedState");switch(e){case"open":case"closed":t=e}}"closed"==t&&this.bind("initMenu:after",()=>{this.node.wrpr.classList.add("mm-wrapper_sidebar-closed")}),this.clck.push((t,n)=>{if(n.inMenu&&n.inListview&&this.node.wrpr.matches(".mm-wrapper_sidebar-expanded"))return{close:"closed"==e.expanded.initial}})}}},toggles:function(){this.bind("initPanel:after",e=>{g(e,"input").forEach(e=>{E(e,this.conf.classNames.toggles.toggle,"mm-toggle"),E(e,this.conf.classNames.toggles.check,"mm-check")})})}},S.wrappers={angular:function(){this.opts.onClick={close:!0,preventDefault:!1,setSelected:!0}},bootstrap:function(){if(this.node.menu.matches(".navbar-collapse")){this.conf.offCanvas&&(this.conf.offCanvas.clone=!1);var e=b("nav"),t=b("div");e.append(t),_(this.node.menu).forEach(e=>{switch(!0){case e.matches(".navbar-nav"):t.append(function(e){var t=b("ul");return g(e,".nav-item").forEach(e=>{var s=b("li");if(e.matches(".active")&&s.classList.add("Selected"),!e.matches(".nav-link")){let t=_(e,".dropdown-menu")[0];t&&s.append(i(t)),e=_(e,".nav-link")[0]}s.prepend(n(e)),t.append(s)}),t}(e));break;case e.matches(".dropdown-menu"):t.append(i(e));break;case e.matches(".form-inline"):this.conf.searchfield.form={action:e.getAttribute("action")||null,method:e.getAttribute("method")||null},this.conf.searchfield.input={name:e.querySelector("input").getAttribute("name")||null},this.conf.searchfield.clear=!1,this.conf.searchfield.submit=!0;break;default:t.append(e.cloneNode(!0))}}),this.bind("initMenu:before",()=>{document.body.prepend(e),this.node.menu=e});let s=this.node.menu.parentElement;if(s){let e=s.querySelector(".navbar-toggler");e&&(delete e.dataset.target,e.removeAttribute("aria-controls"),e.outerHTML=e.outerHTML,(e=s.querySelector(".navbar-toggler")).addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation(),this[this.vars.opened?"close":"open"]()}))}}function n(e){for(var t=b(e.matches("a")?"a":"span"),n=["href","title","target"],i=0;i<n.length;i++)void 0!==e.getAttribute(n[i])&&t.setAttribute(n[i],e.getAttribute(n[i]));return t.innerHTML=e.innerHTML,g(t,".sr-only").forEach(e=>{e.remove()}),t}function i(e){var t=b("ul");return _(e).forEach(e=>{var i=b("li");e.matches(".dropdown-divider")?i.classList.add("Divider"):e.matches(".dropdown-item")&&i.append(n(e)),t.append(i)}),t}},olark:function(){this.conf.offCanvas.page.noSelector.push("#olark")},turbolinks:function(){var e;document.addEventListener("turbolinks:before-visit",t=>{e=function(e,t){for(var n=[],i=0;i<e.length;i++){let s=e[i];t(s)&&n.push(s)}return n}((e=document.documentElement.className).split(" "),e=>!/mm-/.test(e)).join(" ")}),document.addEventListener("turbolinks:load",t=>{void 0!==e&&(document.documentElement.className=e)})},wordpress:function(){this.conf.classNames.selected="current-menu-item";var e=document.getElementById("wpadminbar");e&&(e.style.position="fixed",e.classList.add("mm-slideout"))}};var we;t.default=S;window.Mmenu=S,(we=window.jQuery||window.Zepto||null)&&(we.fn.mmenu=function(e,t){var n=we();return this.each((i,s)=>{if(s.mmApi)return;let a=new S(s,e,t),o=we(a.node.menu);o.data("mmenu",a.API),n=n.add(o)}),n})}]);
!function(l,i,s,a){function h(t,e){this.settings=null,this.options=l.extend({},h.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(h.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(h.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}h.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},h.Width={Default:"default",Inner:"inner",Outer:"outer"},h.Type={Event:"event",State:"state"},h.Plugins={},h.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,s={width:"auto","margin-left":n?e:"","margin-right":n?"":e};i||this.$stage.children().css(s),t.css=s}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,s=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=1<i||t.items.merge,o[n]=s?e*i:this._items[n].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],e=this._items,i=this.settings,n=Math.max(2*i.items,4),s=2*Math.ceil(e.length/2),o=i.loop&&e.length?i.rewind?n:Math.max(n,s):0,r="",a="";for(o/=2;0<o;)t.push(this.normalize(t.length/2,!0)),r+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),a=e[t[t.length-1]][0].outerHTML+a,o-=1;this._clones=t,l(r).addClass("cloned").appendTo(this.$stage),l(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,s=0,o=[];++i<e;)n=o[i-1]||0,s=this._widths[this.relative(i)]+this.settings.margin,o.push(n+s*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,s=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*s,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*s,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],h.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(l("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},h.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return l(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},h.prototype.initialize=function(){var t,e,i;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:a,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},h.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},h.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,n=null;t?(l.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),"function"==typeof(n=l.extend({},this.options,t[i])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):n=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=i,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},h.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},h.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},h.prototype.update=function(){for(var t=0,e=this._pipe.length,i=l.proxy(function(t){return this[t]},this._invalidated),n={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(n),t++;this._invalidated={},this.is("valid")||this.enter("valid")},h.prototype.width=function(t){switch(t=t||h.Width.Default){case h.Width.Inner:case h.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},h.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},h.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},h.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},h.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},h.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=l.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(s).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(s).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(s).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},h.prototype.onDragMove=function(t){var e=null,i=null,n=null,s=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,s);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*s.x/5:0,o.x=Math.max(Math.min(o.x,e+n),i+n)),this._drag.stage.current=o,this.animate(o.x))},h.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),i=this._drag.stage.current,n=0<e.x^this.settings.rtl?"left":"right";l(s).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==e.x?n:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=n,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},h.prototype.closest=function(i,n){var s=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||l.each(r,l.proxy(function(t,e){return"left"===n&&e-30<i&&i<e+30?s=t:"right"===n&&e-o-30<i&&i<e-o+30?s=t+1:this.op(i,"<",e)&&this.op(i,">",r[t+1]!==a?r[t+1]:e-o)&&(s="left"===n?t+1:t),-1===s},this)),this.settings.loop||(this.op(i,">",r[this.minimum()])?s=i=this.minimum():this.op(i,"<",r[this.maximum()])&&(s=i=this.maximum())),s},h.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},h.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},h.prototype.current=function(t){if(t===a)return this._current;if(0===this._items.length)return a;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==a&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},h.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},h.prototype.reset=function(t){(t=this.normalize(t))!==a&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},h.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=a:(t<0||i+n<=t)&&(t=((t-n/2)%i+i)%i+n/2),t},h.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},h.prototype.maximum=function(t){var e,i,n,s=this.settings,o=this._coordinates.length;if(s.loop)o=this._clones.length/2+this._items.length-1;else if(s.autoWidth||s.merge){if(e=this._items.length)for(i=this._items[--e].width(),n=this.$element.width();e--&&!(n<(i+=this._items[e].width()+this.settings.margin)););o=e+1}else o=s.center?this._items.length-1:this._items.length-s.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},h.prototype.minimum=function(t){return t?0:this._clones.length/2},h.prototype.items=function(t){return t===a?this._items.slice():(t=this.normalize(t,!0),this._items[t])},h.prototype.mergers=function(t){return t===a?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},h.prototype.clones=function(i){function n(t){return t%2==0?s+t/2:e-(t+1)/2}var e=this._clones.length/2,s=e+this._items.length;return i===a?l.map(this._clones,function(t,e){return n(e)}):l.map(this._clones,function(t,e){return t===i?n(e):null})},h.prototype.speed=function(t){return t!==a&&(this._speed=t),this._speed},h.prototype.coordinates=function(t){var e,i=1,n=t-1;return t===a?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,n=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[n]||0))/2*i):e=this._coordinates[n]||0,e=Math.ceil(e))},h.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},h.prototype.to=function(t,e){var i=this.current(),n=null,s=t-this.relative(i),o=(0<s)-(s<0),r=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>r/2&&(s+=-1*o*r),(n=(((t=i+s)-a)%r+r)%r+a)!==t&&n-s<=l&&0<n-s&&(i=n-s,t=n,this.reset(i))):t=this.settings.rewind?(t%(l+=1)+l)%l:Math.max(a,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},h.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},h.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},h.prototype.onTransitionEnd=function(t){if(t!==a&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},h.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==i?t=l(this.options.responsiveBaseElement).width():i.innerWidth?t=i.innerWidth:s.documentElement&&s.documentElement.clientWidth?t=s.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},h.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:l(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},h.prototype.add=function(t,e){var i=this.relative(this._current);e=e===a?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},h.prototype.remove=function(t){(t=this.normalize(t,!0))!==a&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},h.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},h.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(s).off(".owl.core"),!1!==this.settings.responsive&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},h.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?i<t:t<i;case">":return n?t<i:i<t;case">=":return n?t<=i:i<=t;case"<=":return n?i<=t:t<=i}},h.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},h.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},h.prototype.trigger=function(t,e,i,n,s){var o={item:{count:this._items.length,index:this.current()}},r=l.camelCase(l.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),a=l.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},o,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(a)}),this.register({type:h.Type.Event,name:t}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[r]&&this.settings[r].call(this,a)),a},h.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===a&&(this._states.current[e]=0),this._states.current[e]++},this))},h.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},h.prototype.register=function(i){if(i.type===h.Type.Event){if(l.event.special[i.name]||(l.event.special[i.name]={}),!l.event.special[i.name].owl){var e=l.event.special[i.name]._default;l.event.special[i.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[i.name].owl=!0}}else i.type===h.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=l.grep(this._states.tags[i.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[i.name])===e},this)))},h.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},h.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},h.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||i.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},h.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},h.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),i=t.data("owl.carousel");i||(i=new h(this,"object"==typeof e&&e),t.data("owl.carousel",i),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){i.register({type:h.Type.Event,name:e}),i.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),i[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},i))})),"string"==typeof e&&"_"!==e.charAt(0)&&i[e].apply(i,n)})},l.fn.owlCarousel.Constructor=h}(window.Zepto||window.jQuery,window,document),function(e,i){var n=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=i.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(a,o){var e=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var e=this._core.settings,i=e.center&&Math.ceil(e.items/2)||e.items,n=e.center&&-1*i||0,s=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+n,o=this._core.clones().length,r=a.proxy(function(t,e){this.load(e)},this);for(0<e.lazyLoadEager&&(i+=e.lazyLoadEager,e.loop&&(s-=e.lazyLoadEager,i++));n++<i;)this.load(o/2+this._core.relative(s)),o&&a.each(this._core.clones(this._core.relative(s)),r),s++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(t){var e=this._core.$stage.children().eq(t),i=e&&e.find(".owl-lazy");!i||-1<a.inArray(e.get(0),this._loaded)||(i.each(a.proxy(function(t,e){var i,n=a(e),s=1<o.devicePixelRatio&&n.attr("data-src-retina")||n.attr("data-src")||n.attr("data-srcset");this._core.trigger("load",{element:n,url:s},"lazy"),n.is("img")?n.one("load.owl.lazy",a.proxy(function(){n.css("opacity",1),this._core.trigger("loaded",{element:n,url:s},"lazy")},this)).attr("src",s):n.is("source")?n.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:n,url:s},"lazy")},this)).attr("srcset",s):((i=new Image).onload=a.proxy(function(){n.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:n,url:s},"lazy")},this),i.src=s)},this)),this._loaded.push(e.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(r,i){var n=function(t){this._core=t,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":r.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=r.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var e=this;r(i).on("load",function(){e._core.settings.autoHeight&&e.update()}),r(i).resize(function(){e._core.settings.autoHeight&&(null!=e._intervalId&&clearTimeout(e._intervalId),e._intervalId=setTimeout(function(){e.update()},250))})};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,i=this._core.settings.lazyLoad,n=this._core.$stage.children().toArray().slice(t,e),s=[],o=0;r.each(n,function(t,e){s.push(r(e).height())}),(o=Math.max.apply(null,s))<=1&&i&&this._previousHeight&&(o=this._previousHeight),this._previousHeight=o,this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(c,t,e){var i=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){if(t.namespace){var e=c(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,c(t.content)))}},this)},this._core.options=c.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))};i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),s=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(-1<(n=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<n[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<n[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[r]={type:i,id:n,width:s,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},i.prototype.thumbnail=function(e,t){function i(t){'<div class="owl-video-play-icon"></div>',n=h.lazyLoad?c("<div/>",{class:"owl-video-tn "+l,srcType:t}):c("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+t+")"}),e.after(n),e.after('<div class="owl-video-play-icon"></div>')}var n,s,o=t.width&&t.height?"width:"+t.width+"px;height:"+t.height+"px;":"",r=e.find("img"),a="src",l="",h=this._core.settings;if(e.wrap(c("<div/>",{class:"owl-video-wrapper",style:o})),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),r.length)return i(r.attr(a)),r.remove(),!1;"youtube"===t.type?(s="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",i(s)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t[0].thumbnail_large,i(s)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t.framegrab_url,i(s)}})},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},i.prototype.play=function(t){var e,i=c(t.target).closest("."+this._core.settings.itemClass),n=this._videos[i.attr("data-video")],s=n.width||"100%",o=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),(e=c('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",o),e.attr("width",s),"youtube"===n.type?e.attr("src","//www.youtube.com/embed/"+n.id+"?autoplay=1&rel=0&v="+n.id):"vimeo"===n.type?e.attr("src","//player.vimeo.com/video/"+n.id+"?autoplay=1"):"vzaar"===n.type&&e.attr("src","//view.vzaar.com/"+n.id+"/player?autoplay=true"),c(e).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},i.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},i.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,window,document),function(r){var e=function(t){this.core=t,this.core.options=r.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":r.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":r.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":r.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&r.support.animation&&r.support.transition){this.core.speed(0);var t,e=r.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,o=this.core.settings.animateOut;this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(r.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),s&&n.one(r.support.animation.end,e).addClass("animated owl-animated-in").addClass(s))}},e.prototype.clear=function(t){r(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(n,s,e){var i=function(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":n.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":n.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":n.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=n.extend({},i.Defaults,this._core.options)};i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype._next=function(t){this._call=s.setTimeout(n.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},i.prototype.read=function(){return(new Date).getTime()-this._time},i.prototype.play=function(t,e){var i;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,i=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):s.clearTimeout(this._call),this._time+=this.read()%t-i,this._timeout=t,this._call=s.setTimeout(n.proxy(this._next,this,e),t-i)},i.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,s.clearTimeout(this._call),this._core.leave("rotating"))},i.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,s.clearTimeout(this._call))},i.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(o){"use strict";var e=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+o(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":o.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":o.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":o.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=o.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?o(i.navContainer):o("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=o("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",o.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=o("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",o.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[o('<button role="button">').addClass(i.dotClass).append(o("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?o(i.dotsContainer):o("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",o.proxy(function(t){var e=o(t.target).parent().is(this._controls.$absolute)?o(t.target).index():o(t.target).parent().index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),this._overrides)this._core[t]=o.proxy(this[t],this)},e.prototype.destroy=function(){var t,e,i,n,s;for(t in s=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&s.navContainer?this._controls[e].html(""):this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,s=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0;t<n;t++){if(r<=e||0===e){if(this._pages.push({start:Math.min(s,t-i),end:t-i+r-1}),Math.min(s,t-i)===s)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t,e=this._core.settings,i=this._core.items().length<=e.items,n=this._core.relative(this._core.current()),s=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||i),e.nav&&(this._controls.$previous.toggleClass("disabled",!s&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||i),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!=t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(1+t).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(o.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:o.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var i=this._core.relative(this._core.current());return o.grep(this._pages,o.proxy(function(t,e){return t.start<=i&&t.end>=i},this)).pop()},e.prototype.getPosition=function(t){var e,i,n=this._core.settings;return"page"==n.slideBy?(e=o.inArray(this.current(),this._pages),i=this._pages.length,t?++e:--e,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=n.slideBy:e-=n.slideBy),e},e.prototype.next=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,i){var n;!i&&this._pages.length?(n=this._pages.length,o.proxy(this._overrides.to,this._core)(this._pages[(t%n+n)%n].start,e)):o.proxy(this._overrides.to,this._core)(t,e)},o.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(n,s){"use strict";var e=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":n.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&n(s).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var e=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":n.proxy(function(t){if(t.namespace&&"position"===t.property.name){var i=this._core.items(this._core.relative(this._core.current())),e=n.map(this._hashes,function(t,e){return t===i?e:null}).join();if(!e||s.location.hash.slice(1)===e)return;s.location.hash=e}},this)},this._core.options=n.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),n(s).on("hashchange.owl.navigation",n.proxy(function(t){var e=s.location.hash.substring(1),i=this._core.$stage.children(),n=this._hashes[e]&&i.index(this._hashes[e]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in n(s).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(s,t,e,o){var r=s("<support>").get(0).style,a="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},n=function(){return!!c("transform")},l=function(){return!!c("perspective")},h=function(){return!!c("animation")};function c(t,i){var n=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return s.each((t+" "+a.join(e+" ")+e).split(" "),function(t,e){if(r[e]!==o)return n=!i||e,!1}),n}function u(t){return c(t,!0)}!function(){return!!c("transition")}()||(s.support.transition=new String(u("transition")),s.support.transition.end=i.transition.end[s.support.transition]),h()&&(s.support.animation=new String(u("animation")),s.support.animation.end=i.animation.end[s.support.animation]),n()&&(s.support.transform=new String(u("transform")),s.support.transform3d=l())}(window.Zepto||window.jQuery,window,document),function(i){i.fn.equalHeights=function(){var e=0,t=i(this);return t.each(function(){var t=i(this).innerHeight();e<t&&(e=t)}),t.css("height",e)},i("[data-equal]").each(function(){var t=i(this),e=t.data("equal");t.find(e).equalHeights()})}(jQuery),fotoramaVersion="4.6.4",function(o,ve,ye,we,a){"use strict";var _e="fotorama",xe="fullscreen",be=_e+"__wrap",Ce=be+"--video",$e=be+"--no-controls",Oe=be+"--only-active",Se=_e+"__stage",Te=Se+"__frame",ke=_e+"__grab",ze=_e+"__arr",Pe=ze+"--disabled",Fe=_e+"__nav",Ie=Fe+"--dots",De=Fe+"--thumbs",Ee=Fe+"__frame",t=_e+"__fade",Me=t+"-front",Ae=t+"-rear",je="fotorama__shadows",Ne=_e+"__active",qe=_e+"__select",Le=_e+"--fullscreen",He=_e+"__error",Re=_e+"__loading",We=_e+"__loaded",M=_e+"__grabbing",Ve=_e+"__img",Be=_e+"__thumb",e=_e+"__video",Ke=e+"-play",Qe='" tabindex="0" role="button',i=we&&we.fn.jquery.split(".");if(!i||i[0]<1||1==i[0]&&i[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var r=function(t,u,o){var e,n,s={},d=u.documentElement,p="modernizr",i=u.createElement(p),r=i.style,a=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms",h=l.split(" "),c=l.toLowerCase().split(" "),f={},g=[],m=g.slice,v={}.hasOwnProperty;function y(t){r.cssText=t}function w(t,e){return typeof t===e}function _(t,e){for(var i in t){var n=t[i];if(!~(""+n).indexOf("-")&&r[n]!==o)return"pfx"!=e||n}return!1}function x(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+h.join(n+" ")+n).split(" ");return w(e,"string")||w(e,"undefined")?_(s,e):function(t,e,i){for(var n in t){var s=e[t[n]];if(s!==o)return!1===i?t[n]:w(s,"function")?s.bind(i||e):s}return!1}(s=(t+" "+c.join(n+" ")+n).split(" "),e,i)}for(var b in n=w(v,"undefined")||w(v.call,"undefined")?function(t,e){return e in t&&w(t.constructor.prototype[e],"undefined")}:function(t,e){return v.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(n){var s=this;if("function"!=typeof s)throw new TypeError;var o=m.call(arguments,1),r=function(){if(this instanceof r){var t=function(){};t.prototype=s.prototype;var e=new t,i=s.apply(e,o.concat(m.call(arguments)));return Object(i)===i?i:e}return s.apply(n,o.concat(m.call(arguments)))};return r}),f.csstransforms3d=function(){return!!x("perspective")},f)n(f,b)&&(e=b.toLowerCase(),s[e]=f[b](),g.push((s[e]?"":"no-")+e));return s.addTest=function(t,e){if("object"==typeof t)for(var i in t)n(t,i)&&s.addTest(i,t[i]);else{if(t=t.toLowerCase(),s[t]!==o)return s;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(e?"":"no-")+t),s[t]=e}return s},y(""),i=null,s._version="2.6.2",s._prefixes=a,s._domPrefixes=c,s._cssomPrefixes=h,s.testProp=function(t){return _([t])},s.testAllProps=x,s.testStyles=function(t,e,i,n){var s,o,r,a,l=u.createElement("div"),h=u.body,c=h||u.createElement("body");if(parseInt(i,10))for(;i--;)(r=u.createElement("div")).id=n?n[i]:p+(i+1),l.appendChild(r);return s=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),l.id=p,(h?l:c).innerHTML+=s,c.appendChild(l),h||(c.style.background="",c.style.overflow="hidden",a=d.style.overflow,d.style.overflow="hidden",d.appendChild(c)),o=e(l,t),h?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),d.style.overflow=a),!!o},s.prefixed=function(t,e,i){return e?x(t,e,i):x(t,"pfx")},s}(0,ve),Ue={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},n="webkit moz o ms khtml".split(" ");if(void 0!==ve.cancelFullScreen)Ue.ok=!0;else for(var s=0,l=n.length;s<l;s++)if(Ue.prefix=n[s],void 0!==ve[Ue.prefix+"CancelFullScreen"]){Ue.ok=!0;break}Ue.ok&&(Ue.event=Ue.prefix+"fullscreenchange",Ue.is=function(){switch(this.prefix){case"":return ve.fullScreen;case"webkit":return ve.webkitIsFullScreen;default:return ve[this.prefix+"FullScreen"]}},Ue.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},Ue.cancel=function(t){return""===this.prefix?ve.cancelFullScreen():ve[this.prefix+"CancelFullScreen"]()});var Ge,Ze={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Xe={top:"auto",left:"auto",className:""};Ge=function(){var f,o=["webkit","Moz","ms","O"],h={};function g(t,e){var i,n=ve.createElement(t||"div");for(i in e)n[i]=e[i];return n}function c(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var u=function(){var t=g("style",{type:"text/css"});return c(ve.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}();function r(t,e,i,n){var s=["opacity",e,~~(100*t),i,n].join("-"),o=.01+i/n*100,r=Math.max(1-(1-t)/e*(100-o),t),a=f.substring(0,f.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[s]||(u.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+r+"}"+o+"%{opacity:"+t+"}"+(.01+o)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",u.cssRules.length),h[s]=1),s}function n(t,e){var i,n,s=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<o.length;n++)if(i=o[n]+e,s[i]!==a)return i;if(s[e]!==a)return e}function m(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function e(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]===a&&(t[n]=i[n])}return t}function v(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function d(t,e){return"string"==typeof t?t:t[e%t.length]}var i={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function s(t){if(void 0===this)return new s(t);this.opts=e(t||{},s.defaults,i)}s.defaults={},e(s.prototype,{spin:function(t){this.stop();var e,i,n=this,s=n.opts,o=n.el=m(g(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),r=s.radius+s.length+s.width;if(t&&(t.insertBefore(o,t.firstChild||null),i=v(t),e=v(o),m(o,{left:("auto"==s.left?i.x-e.x+(t.offsetWidth>>1):parseInt(s.left,10)+r)+"px",top:("auto"==s.top?i.y-e.y+(t.offsetHeight>>1):parseInt(s.top,10)+r)+"px"})),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!f){var a,l=0,h=(s.lines-1)*(1-s.direction)/2,c=s.fps,u=c/s.speed,d=(1-s.opacity)/(u*s.trail/100),p=u/s.lines;!function t(){l++;for(var e=0;e<s.lines;e++)a=Math.max(1-(l+(s.lines-e)*p)%u*d,s.opacity),n.opacity(o,e*s.direction+h,a,s);n.timeout=n.el&&setTimeout(t,~~(1e3/c))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=a),this},lines:function(t,i){var e,n=0,s=(i.lines-1)*(1-i.direction)/2;function o(t,e){return m(g(),{position:"absolute",width:i.length+i.width+"px",height:i.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*n+i.rotate)+"deg) translate("+i.radius+"px,0)",borderRadius:(i.corners*i.width>>1)+"px"})}for(;n<i.lines;n++)e=m(g(),{position:"absolute",top:1+~(i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:f&&r(i.opacity,i.trail,s+n*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&c(e,m(o("#000","0 0 4px #000"),{top:"2px"})),c(t,c(e,o(d(i.color,n),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var t=m(g("group"),{behavior:"url(#default#VML)"});return!n(t,"transform")&&t.adj?function(){function h(t,e){return g("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}u.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,n){var s=n.length+n.width,e=2*s;function o(){return m(h("group",{coordsize:e+" "+e,coordorigin:-s+" "+-s}),{width:e,height:e})}var i,r=2*-(n.width+n.length)+"px",a=m(o(),{position:"absolute",top:r,left:r});function l(t,e,i){c(a,c(m(o(),{rotation:360/n.lines*t+"deg",left:~~e}),c(m(h("roundrect",{arcsize:n.corners}),{width:s,height:n.width,left:n.radius,top:-n.width>>1,filter:i}),h("fill",{color:d(n.color,t),opacity:n.opacity}),h("stroke",{opacity:0}))))}if(n.shadow)for(i=1;i<=n.lines;i++)l(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=n.lines;i++)l(i);return c(t,a)},s.prototype.opacity=function(t,e,i,n){var s=t.firstChild;n=n.shadow&&n.lines||0,s&&e+n<s.childNodes.length&&(s=(s=(s=s.childNodes[e+n])&&s.firstChild)&&s.firstChild)&&(s.opacity=i)}}():f=n(t,"animation"),s}();var Ye,Je,v,y,w,_,ti=we(o),ei=we(ve),h="quirks"===ye.hash.replace("#",""),c=r.csstransforms3d,ii=c&&!h,ni=c||"CSS1Compat"===ve.compatMode,si=Ue.ok,u=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),oi=!ii||u,ri=navigator.msPointerEnabled,p="onwheel"in ve.createElement("div")?"wheel":ve.onmousewheel!==a?"mousewheel":"DOMMouseScroll",ai=250,li=300,f=1400,hi="$stageFrame",ci="$navDotFrame",ui="$navThumbFrame",d=function(o){var t="bez_"+we.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof we.easing[t]){var r=function(i,n){function o(t,e){return l[e]=3*i[e],a[e]=3*(n[e]-i[e])-l[e],r[e]=1-l[e]-a[e],t*(l[e]+t*(a[e]+t*r[e]))}var r=[null,null],a=[null,null],l=[null,null];return function(t){return o(function(t){for(var e,i,n=t,s=0;++s<14&&(e=o(n,0)-t,!(Math.abs(e)<.001));)n-=e/(i=n,l[0]+i*(2*a[0]+3*r[0]*i));return n}(t),1)}};we.easing[t]=function(t,e,i,n,s){return n*r([o[0],o[1]],[o[2],o[3]])(e/s)+i}}return t}([.1,0,.25,1]),g="50%",m={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:g,thumbposition:g,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:li,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},di={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};function pi(){}function fi(t,e,i){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(i)?1/0:i,t))}function gi(t){var e={};return ii?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function mi(t){return{"transition-duration":t+"ms"}}function x(t,e){return isNaN(t)?e:t}function vi(t,e){return x(+String(t).replace(e||"px",""))}function yi(t,e){return x(function(t){return/%$/.test(t)?vi(t,"%"):a}(t)/100*e,vi(t))}function wi(t){return(!isNaN(vi(t))||!isNaN(vi(t,"%")))&&t}function _i(t,e,i,n){return(t-(n||0))*(e+(i||0))}function b(t,e,i,n){var s,o=t.data();o&&(o.onEndFn=function(){s||(s=!0,clearTimeout(o.tT),i())},o.tProp=e,clearTimeout(o.tT),o.tT=setTimeout(function(){o.onEndFn()},1.5*n),function(t){var e=t.data();if(!e.tEnd){ji(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[r.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0}}(t))}function xi(t,e){if(t.length){var i=t.data();ii?(t.css(mi(0)),i.onEndFn=pi,clearTimeout(i.tT)):t.stop();var n=bi(e,function(){return function(t){return ii?+function(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}(t.css("transform")):+t.css("left").replace("px","")}(t)});return t.css(gi(n)),n}}function bi(){for(var t,e=0,i=arguments.length;e<i&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function A(t,e){return Math.round(t+(e-t)/1.5)}function Ci(){return Ci.p=Ci.p||("https:"===ye.protocol?"https://":"http://")}function $i(t,e){if("string"!=typeof t)return t;var i,n;if((t=function(t){var e=ve.createElement("a");return e.href=t,e}(t)).host.match(/youtube\.com/)&&t.search){if(i=t.search.split("v=")[1]){var s=i.indexOf("&");-1!==s&&(i=i.substring(0,s)),n="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(i=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),n="youtube"):t.host.match(/vimeo\.com/)&&(n="vimeo",i=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return i&&n||!e||(i=t.href,n="custom"),!!i&&{id:i,type:n,s:t.search.replace(/^\?/,""),p:Ci()}}function Oi(t,e,i,n){for(var s=0,o=t.length;s<o;s++){var r=t[s];if(r.i===i&&r.thumbsReady){var a={videoReady:!0};a[hi]=a[ui]=a[ci]=!1,n.splice(s,1,we.extend({},r,a,e));break}}}function Si(t){var i=[];function h(t,e,i){var n=i.thumb&&i.img!==i.thumb,s=vi(i.width||t.attr("width")),o=vi(i.height||t.attr("height"));we.extend(i,{width:s,height:o,thumbratio:Ai(i.thumbratio||vi(i.thumbwidth||e&&e.attr("width")||n||s)/vi(i.thumbheight||e&&e.attr("height")||n||o))})}return t.children().each(function(){var t=we(this),e=Mi(we.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))!function(t,e,i){var n=t.children("img").eq(0),s=t.attr("href"),o=t.attr("src"),r=n.attr("src"),a=e.video,l=!!i&&$i(s,!0===a);l?s=!1:l=a,h(t,n,we.extend(e,{video:l,img:e.img||s||o||r,thumb:e.thumb||r||o||s}))}(t,e,!0);else{if(t.is(":empty"))return;h(t,null,we.extend(e,{html:this,_html:t.html()}))}i.push(e)}),i}function Ti(t,e,i,n){return Ti.i||(Ti.i=1,Ti.ii=[!0]),void 0===Ti.ii[n=n||Ti.i]&&(Ti.ii[n]=!0),t()?e():Ti.ii[n]&&setTimeout(function(){Ti.ii[n]&&Ti(t,e,i,n)},i||100),Ti.i++}function ki(t,e,i,n){var s=t.data(),o=s.measures;if(o&&(!s.l||s.l.W!==o.width||s.l.H!==o.height||s.l.r!==o.ratio||s.l.w!==e.w||s.l.h!==e.h||s.l.m!==i||s.l.p!==n)){var r=o.width,a=o.height,l=e.w/e.h,h=o.ratio>=l,c="scaledown"===i,u="contain"===i,d="cover"===i,p=function(t){return{x:wi((t=(t+"").split(/\s+/))[0])||g,y:wi(t[1])||g}}(n);h&&(c||u)||!h&&d?a=(r=fi(e.w,0,c?r:1/0))/o.ratio:(h&&d||!h&&(c||u))&&(r=(a=fi(e.h,0,c?a:1/0))*o.ratio),t.css({width:r,height:a,left:yi(p.x,e.w-r),top:yi(p.y,e.h-a)}),s.l={W:o.width,H:o.height,r:o.ratio,w:e.w,h:e.h,m:i,p:n}}return!0}function zi(t,e,i){return e!==i&&(t<=e?"left":i<=t?"right":"left right")}function Pi(t,e,i,n){if(!i)return!1;if(!isNaN(t))return t-(n?0:1);for(var s,o=0,r=e.length;o<r;o++){if(e[o].id===t){s=o;break}}return s}function Fi(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function Ii(t){for(var e=t.length;e;){var i=Math.floor(Math.random()*e--),n=t[e];t[e]=t[i],t[i]=n}return t}function Di(t){return"[object Array]"==Object.prototype.toString.call(t)&&we.map(t,function(t){return we.extend({},t)})}function Ei(t,e,i){t.scrollLeft(e||0).scrollTop(i||0)}function Mi(t){if(t){var i={};return we.each(t,function(t,e){i[t.toLowerCase()]=e}),i}}function Ai(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||a:e}}function ji(t,e,i,n){e&&(t.addEventListener?t.addEventListener(e,i,!!n):t.attachEvent("on"+e,i))}function Ni(t){return{tabindex:-1*t+"",disabled:t}}function qi(e,i){ji(e,"keyup",function(t){(function(t){return!!t.getAttribute("disabled")})(e)||13==t.keyCode&&i.call(e,t)})}function Li(e,i){ji(e,"focus",e.onfocusin=function(t){i.call(e,t)},!0)}function Hi(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function Ri(t){return t?">":"<"}function Wi(t,e){var i=t.data(),n=Math.round(e.pos),s=function(){i.sliding=!1,(e.onEnd||pi)()};void 0!==e.overPos&&e.overPos!==e.pos&&(n=e.overPos,s=function(){Wi(t,we.extend({},e,{overPos:e.pos,time:Math.max(li,e.time/2)}))});var o=we.extend(gi(n),e.width&&{width:e.width});i.sliding=!0,ii?(t.css(we.extend(mi(e.time),o)),10<e.time?b(t,"transform",s,e.time):s()):t.stop().animate(o,e.time,d,s)}function C(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=we.now()}function Vi(t,r){var a,l,i,n,h,e,s,c,u,d=t[0],p={};function o(t){if(i=we(t.target),p.checked=e=s=u=!1,a||p.flow||t.touches&&1<t.touches.length||1<t.which||v&&v.type!==t.type&&w||(e=r.select&&i.is(r.select,d)))return e;h="touchstart"===t.type,s=i.is("a, a *",d),n=p.control,c=p.noMove||p.noSwipe||n?16:p.snap?0:4,C(t),l=v=t,y=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(r.onStart||pi).call(d,t,{control:n,$target:i}),a=p.flow=!0,h&&!p.go||Hi(t)}function f(t){if(t.touches&&1<t.touches.length||ri&&!t.isPrimary||y!==t.type||!a)return a&&g(),void(r.onTouchEnd||pi)();C(t);var e=Math.abs(t._x-l._x),i=Math.abs(t._y-l._y),n=e-i,s=(p.go||p.x||0<=n)&&!p.noSwipe,o=n<0;h&&!p.checked?(a=s)&&Hi(t):(Hi(t),(r.onMove||pi).call(d,t,{touch:h})),!u&&Math.sqrt(Math.pow(e,2)+Math.pow(i,2))>c&&(u=!0),p.checked=p.checked||s||o}function g(t){(r.onTouchEnd||pi)();var e=a;p.control=a=!1,e&&(p.flow=!1),!e||s&&!p.checked||(t&&Hi(t),w=!0,clearTimeout(_),_=setTimeout(function(){w=!1},1e3),(r.onEnd||pi).call(d,{moved:u,$target:i,control:n,touch:h,startEvent:l,aborted:!t||"MSPointerCancel"===t.type}))}function m(){p.flow&&setTimeout(function(){p.flow=!1},ai)}return ri?(ji(d,"MSPointerDown",o),ji(ve,"MSPointerMove",f),ji(ve,"MSPointerCancel",g),ji(ve,"MSPointerUp",g)):(ji(d,"touchstart",o),ji(d,"touchmove",f),ji(d,"touchend",g),ji(ve,"touchstart",function(){p.flow||setTimeout(function(){p.flow=!0},10)}),ji(ve,"touchend",m),ji(ve,"touchcancel",m),ti.on("scroll",m),t.on("mousedown",o),ei.on("mousemove",f).on("mouseup",g)),t.on("click","a",function(t){p.checked&&Hi(t)}),p}function Bi(_,x){var i,b,C,$,n,O,s,S,T,k,z,P,o,F,I=_[0],r=_.data(),D={};function E(t,e){F=!0,i=b=t._x,s=t._now,O=[[s,i]],C=$=D.noMove||e?0:xi(_,(x.getPos||pi)()),(x.onStart||pi).call(I,t)}return D=we.extend(Vi(x.$wrap,we.extend({},x,{onStart:function(t,e){T=D.min,k=D.max,z=D.snap,P=t.altKey,F=o=!1,e.control||r.sliding||E(t)},onMove:function(t,e){D.noSwipe||(F||E(t),b=t._x,O.push([t._now,b]),n=zi($=C-(i-b),T,k),$<=T?$=A($,T):k<=$&&($=A($,k)),D.noMove||(_.css(gi($)),o||(o=!0,e.touch||ri||_.addClass(M)),(x.onMove||pi).call(I,t,{pos:$,edge:n})))},onEnd:function(t){if(!D.noSwipe||!t.moved){F||E(t.startEvent,!0),t.touch||ri||_.removeClass(M);for(var e,i,n,s,o,r,a,l,h,c=(S=we.now())-ai,u=null,d=li,p=x.friction,f=O.length-1;0<=f;f--){if(e=O[f][0],i=Math.abs(e-c),null===u||i<n)u=e,s=O[f][1];else if(u===c||n<i)break;n=i}a=fi($,T,k);var g=s-b,m=0<=g,v=S-u,y=ai<v,w=!y&&$!==C&&a===$;z&&(a=fi(Math[w?m?"floor":"ceil":"round"]($/z)*z,T,k),T=k=a),w&&(z||a===$)&&(h=-g/v,d*=fi(Math.abs(h),x.timeLow,x.timeHigh),o=Math.round($+h*d/p),z||(a=o),(!m&&k<o||m&&o<T)&&(r=m?T:k,z||(a=r),l=fi(a+.03*(l=o-r),r-50,r+50),d=Math.abs(($-l)/(h/p)))),d*=P?10:1,(x.onEnd||pi).call(I,we.extend(t,{moved:t.moved||y&&z,pos:$,newPos:a,overPos:l,time:d}))}}})),D)}function Ki(t,l){var h,c,u,e=t[0],d={prevent:{}};return ji(e,p,function(t){var e=t.wheelDeltaY||-1*t.deltaY||0,i=t.wheelDeltaX||-1*t.deltaX||0,n=Math.abs(i)&&!Math.abs(e),s=Ri(i<0),o=c===s,r=we.now(),a=r-u<ai;c=s,u=r,n&&d.ok&&(!d.prevent[s]||h)&&(Hi(t,!0),h&&o&&a||(l.shift&&(h=!0,clearTimeout(d.t),d.t=setTimeout(function(){h=!1},f)),(l.onEnd||pi)(t,l.shift?s:i)))}),d}function Qi(){we.each(we.Fotorama.instances,function(t,e){e.index=t})}Ti.stop=function(t){Ti.ii[t]=!1},jQuery.Fotorama=function(i,x){Ye=we("html"),Je=we("body");var b,C,e,n,h,c,u,d,p,f,g,m,v,s,y,w,_,o,r,a,$,l,O,S,T,k,z,P,F,t,I,D,E,M,A,j,N,q,L=this,H=we.now(),R=_e+H,W=i[0],V=1,B=i.data(),K=we("<style></style>"),Q=we(Fi("fotorama--hidden")),U=we(Fi(be)),G=we(Fi(Se)).appendTo(U),Z=(G[0],we(Fi("fotorama__stage__shaft")).appendTo(G)),X=we(),Y=we(Fi(ze+" fotorama__arr--prev"+Qe)),J=we(Fi(ze+" fotorama__arr--next"+Qe)),tt=Y.add(J).appendTo(G),et=we(Fi("fotorama__nav-wrap")),it=we(Fi(Fe)).appendTo(et),nt=we(Fi("fotorama__nav__shaft")).appendTo(it),st=we(),ot=we(),rt=(Z.data(),nt.data(),we(Fi("fotorama__thumb-border")).appendTo(nt)),at=we(Fi("fotorama__fullscreen-icon"+Qe)),lt=at[0],ht=we(Fi(Ke)),ct=we(Fi("fotorama__video-close")).appendTo(G)[0],ut=we(Fi("fotorama__spinner")),dt=!1,pt={},ft={},gt={},mt={},vt={},yt={},wt={},_t=0,xt=[];function bt(){we.each(b,function(t,e){if(!e.i){e.i=V++;var i=$i(e.video,!0);if(i){var n={};e.video=i,e.img||e.thumb?e.thumbsReady=!0:n=function(e,i,n){var t,s,o=e.video;return"youtube"===o.type?(t=(s=Ci()+"img.youtube.com/vi/"+o.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===o.type?we.ajax({url:Ci()+"vimeo.com/api/v2/video/"+o.id+".json",dataType:"jsonp",success:function(t){e.thumbsReady=!0,Oi(i,{img:t[0].thumbnail_large,thumb:t[0].thumbnail_small},e.i,n)}}):e.thumbsReady=!0,{img:t,thumb:s}}(e,b,L),Oi(b,{img:n.img,thumb:n.thumb},e.i,L)}}})}function Ct(t){return P[t]||L.fullScreen}function $t(t){t!==$t.f&&(t?(i.html("").addClass(_e+" "+R).append(U).before(K).before(Q),function(t){we.Fotorama.instances.push(t),Qi()}(L)):(U.detach(),K.detach(),Q.detach(),i.html(B.urtext).removeClass(R),function(t){we.Fotorama.instances.splice(t.index,1),Qi()}(L)),function(t){var e="keydown."+_e,i=_e+H,n="keydown."+i,s="resize."+i+" orientationchange."+i;t?(ei.on(n,function(t){var e,i;h&&27===t.keyCode?ae(h,e=!0,!0):(L.fullScreen||x.keyboard&&!L.index)&&(27===t.keyCode?(e=!0,L.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&Ct("space")||37===t.keyCode&&Ct("left")||38===t.keyCode&&Ct("up")?i="<":32===t.keyCode&&Ct("space")||39===t.keyCode&&Ct("right")||40===t.keyCode&&Ct("down")?i=">":36===t.keyCode&&Ct("home")?i="<<":35===t.keyCode&&Ct("end")&&(i=">>")),(e||i)&&Hi(t),i&&L.show({index:i,slow:t.altKey,user:!0})}),L.index||ei.off(e).on(e,"textarea, input, select",function(t){Je.hasClass(xe)||t.stopPropagation()}),ti.on(s,L.resize)):(ei.off(n),ti.off(s))}(t),$t.f=t)}function Ot(){var t=C<2&&!x.enableifsingleframe||h;ft.noMove=t||$,ft.noSwipe=t||!x.swipe,T||Z.toggleClass(ke,!x.click&&!ft.noMove&&!ft.noSwipe),ri&&U.toggleClass("fotorama__wrap--pan-y",!ft.noSwipe)}function St(t){!0===t&&(t=""),x.autoplay=Math.max(+t||5e3,1.5*S)}function Tt(t){return t<0?(C+t%C)%C:C<=t?t%C:t}function kt(t){return fi(t,0,C-1)}function zt(t){return y?Tt(t):kt(t)}function Pt(t){return!!(0<t||y)&&t-1}function Ft(t){return!!(t<C-1||y)&&t+1}function It(t,o,r){if("number"==typeof t){t=new Array(t);var a=!0}return we.each(t,function(t,e){if(a&&(e=t),"number"==typeof e){var i=b[Tt(e)];if(i){var n="$"+o+"Frame",s=i[n];r.call(this,t,e,i,s,n,s&&s.data())}}})}function Dt(t,e,i,n){F&&("*"!==F||n!==s)||(t=wi(x.width)||wi(t)||500,e=wi(x.height)||wi(e)||333,L.resize({width:t,ratio:x.ratio||i||t/e},0,n!==s&&"*"))}function Et(t,m,v,y,w,_){It(t,m,function(t,i,e,n,s,o){if(n){var r=L.fullScreen&&e.full&&e.full!==e.img&&!o.$full&&"stage"===m;if(!o.$img||_||r){var a=new Image,l=we(a),h=l.data();o[r?"$full":"$img"]=l;var c="stage"===m?r?"full":"img":"thumb",u=e[c],d=r?null:e["stage"===m?"thumb":"img"];"navThumb"===m&&(n=o.$wrap),u?(we.Fotorama.cache[u]?function t(){"error"===we.Fotorama.cache[u]?f():"loaded"===we.Fotorama.cache[u]?setTimeout(g,0):setTimeout(t,100)}():(we.Fotorama.cache[u]="*",l.on("load",g).on("error",f)),o.state="",a.src=u):f()}}function p(t){var e=Tt(i);te(t,{index:e,src:u,frame:b[e]})}function f(){l.remove(),we.Fotorama.cache[u]="error",e.html&&"stage"===m||!d||d===u?(!u||e.html||r?"stage"===m&&(n.trigger("f:load").removeClass(Re+" "+He).addClass(We),p("load"),Dt()):(n.trigger("f:error").removeClass(Re).addClass(He),p("error")),o.state="error",!(1<C&&b[i]===e)||e.html||e.deleted||e.video||r||(e.deleted=!0,L.splice(i,1))):(e[c]=u=d,Et([i],m,v,y,w,!0))}function g(){var t=10;Ti(function(){return!j||!t--&&!oi},function(){we.Fotorama.measures[u]=h.measures=we.Fotorama.measures[u]||{width:a.width,height:a.height,ratio:a.width/a.height},Dt(h.measures.width,h.measures.height,h.measures.ratio,i),l.off("load error").addClass(Ve+(r?" fotorama__img--full":"")).prependTo(n),ki(l,(we.isFunction(v)?v():v)||pt,y||e.fit||x.fit,w||e.position||x.position),we.Fotorama.cache[u]=o.state="loaded",setTimeout(function(){n.trigger("f:load").removeClass(Re+" "+He).addClass(We+" "+(r?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===m?p("load"):"auto"!==e.thumbratio&&(e.thumbratio||"auto"!==x.thumbratio)||(e.thumbratio=h.measures.ratio,ge())},0)})}})}function Mt(){ut.detach(),n&&n.stop()}function At(){var t=c[hi];t&&!t.data().state&&(function(t){ut.append(n.spin().el).appendTo(t)}(t),t.on("f:load f:error",function(){t.off("f:load f:error"),Mt()}))}function jt(t){qi(t,de),Li(t,function(){setTimeout(function(){Ei(it)},0),Gt({time:S,guessIndex:we(this).data().eq,minMax:mt})})}function Nt(t,a){It(t,a,function(t,e,i,n,s,o){if(!n){n=i[s]=U[s].clone(),(o=n.data()).data=i;var r=n[0];"stage"===a?(i.html&&we('<div class="fotorama__html"></div>').append(i._html?we(i.html).removeAttr("id").html(i._html):i.html).appendTo(n),i.caption&&we(Fi("fotorama__caption",Fi("fotorama__caption__wrap",i.caption))).appendTo(n),i.video&&n.addClass("fotorama__stage__frame--video").append(ht.clone()),Li(r,function(){setTimeout(function(){Ei(G)},0),ce({index:o.eq,user:!0})}),X=X.add(n)):"navDot"===a?(jt(r),st=st.add(n)):"navThumb"===a&&(jt(r),o.$wrap=n.children(":first"),ot=ot.add(n),i.video&&o.$wrap.append(ht.clone()))}})}function qt(t,e,i,n){return t&&t.length&&ki(t,e,i,n)}function Lt(t){It(t,"stage",function(t,e,i,n,s,o){if(n){var r=Tt(e),a=i.fit||x.fit,l=i.position||x.position;o.eq=r,wt[hi][r]=n.css(we.extend({left:$?0:_i(e,pt.w,x.margin,d)},$&&mi(0))),function(t){return!we.contains(ve.documentElement,t)}(n[0])&&(n.appendTo(Z),ae(i.$video)),qt(o.$img,pt,a,l),qt(o.$full,pt,a,l)}})}function Ht(t,a){if("thumbs"===w&&!isNaN(t)){var l=-t,h=-t+pt.nw;ot.each(function(){function t(){return{h:O,w:e.w}}var e=we(this).data(),i=e.eq,n=t(),s=b[i]||{},o=s.thumbfit||x.thumbfit,r=s.thumbposition||x.thumbposition;n.w=e.w,e.l+e.w<l||e.l>h||qt(e.$img,n,o,r)||a&&Et([i],"navThumb",t,o,r)})}}function Rt(t,e,i){if(!Rt[i]){var n="nav"===i&&_,s=0;e.append(t.filter(function(){for(var t,e=we(this),i=e.data(),n=0,s=b.length;n<s;n++)if(i.data===b[n]){t=!0,i.eq=n;break}return t||e.remove()&&!1}).sort(function(t,e){return we(t).data().eq-we(e).data().eq}).each(function(){if(n){var t=we(this),e=t.data(),i=Math.round(O*e.data.thumbratio)||l;e.l=s,e.w=i,t.css({width:i}),s+=i+x.thumbmargin}})),Rt[i]=!0}}function Wt(t){return t-_t>pt.w/3}function Vt(t){return!(y||dt+t&&dt-C+t||h)}function Bt(){var t=Vt(0),e=Vt(1);Y.toggleClass(Pe,t).attr(Ni(t)),J.toggleClass(Pe,e).attr(Ni(e))}function Kt(){gt.ok&&(gt.prevent={"<":Vt(0),">":Vt(1)})}function Qt(t){var e,i,n=t.data();return i=_?(e=n.l,n.w):(e=t.position().left,t.width()),{c:e+i/2,min:-e+10*x.thumbmargin,max:-e+pt.w-i-10*x.thumbmargin}}function Ut(t){var e=c[q].data();Wi(rt,{time:1.2*t,pos:e.l,width:e.w-2*x.thumbborderwidth})}function Gt(t){var e=b[t.guessIndex][q];if(e){var i=mt.min!==mt.max,n=t.minMax||i&&Qt(c[q]),s=i&&(t.keep&&Gt.l?Gt.l:fi((t.coo||pt.nw/2)-Qt(e).c,n.min,n.max)),o=i&&fi(s,mt.min,mt.max),r=1.1*t.time;Wi(nt,{time:r,pos:o||0,onEnd:function(){Ht(o,!0)}}),re(it,zi(o,mt.min,mt.max)),Gt.l=s}}function Zt(t){for(var e=yt[t];e.length;)e.shift().removeClass(Ne)}function Xt(t){var i=wt[t];we.each(u,function(t,e){delete i[Tt(e)]}),we.each(i,function(t,e){delete i[t],e.detach()})}function Yt(t){d=p=dt;var e=c[hi];e&&(Zt(hi),yt[hi].push(e.addClass(Ne)),t||L.show.onEnd(!0),xi(Z,0),Xt(hi),Lt(u),ft.min=y?-1/0:-_i(C-1,pt.w,x.margin,d),ft.max=y?1/0:-_i(0,pt.w,x.margin,d),ft.snap=pt.w+x.margin,mt.min=Math.min(0,pt.nw-nt.width()),mt.max=0,nt.toggleClass(ke,!(mt.noMove=mt.min===mt.max)))}function Jt(i,t){i&&we.each(t,function(t,e){e&&we.extend(e,{width:i.width||e.width,height:i.height,minwidth:i.minwidth,maxwidth:i.maxwidth,minheight:i.minheight,maxheight:i.maxheight,ratio:Ai(i.ratio)})})}function te(t,e){i.trigger(_e+":"+t,[L,e])}function ee(){clearTimeout(ie.t),j=1,x.stopautoplayontouch?L.stopAutoplay():E=!0}function ie(){j&&(x.stopautoplayontouch||(ne(),se()),ie.t=setTimeout(function(){j=0},li+ai))}function ne(){E=!(!h&&!M)}function se(){if(clearTimeout(se.t),Ti.stop(se.w),x.autoplay&&!E){L.autoplay||(L.autoplay=!0,te("startautoplay"));var i=dt,t=c[hi].data();se.w=Ti(function(){return t.state||i!==dt},function(){se.t=setTimeout(function(){if(!E&&i===dt){var t=v,e=b[t][hi].data();se.w=Ti(function(){return e.state||t!==v},function(){E||t!==v||L.show(y?Ri(!z):v)})}},x.autoplay)})}else L.autoplay&&(L.autoplay=!1,te("stopautoplay"))}function oe(){L.fullScreen&&(L.fullScreen=!1,si&&Ue.cancel(W),Je.removeClass(xe),Ye.removeClass(xe),i.removeClass(Le).insertAfter(Q),pt=we.extend({},A),ae(h,!0,!0),ue("x",!1),L.resize(),Et(u,"stage"),Ei(ti,I,t),te("fullscreenexit"))}function re(t,e){k&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),e&&!h&&t.addClass(e.replace(/^|\s/g," "+je+"--")))}function ae(t,e,i){e&&(U.removeClass(Ce),h=!1,Ot()),t&&t!==h&&(t.remove(),te("unloadvideo")),i&&(ne(),se())}function le(t){U.toggleClass($e,t)}function he(t){if(!ft.flow){var e=t?t.pageX:he.x,i=e&&!Vt(Wt(e))&&x.click;he.p!==i&&G.toggleClass("fotorama__pointer",i)&&(he.p=i,he.x=e)}}function ce(e){clearTimeout(ce.t),x.clicktransition&&x.clicktransition!==x.transition?setTimeout(function(){var t=x.transition;L.setOptions({transition:x.clicktransition}),T=t,ce.t=setTimeout(function(){L.show(e)},10)},0):L.show(e)}function ue(t,e){ft[t]=mt[t]=e}function de(t){ce({index:we(this).data().eq,slow:t.altKey,user:!0,coo:t._x-it.offset().left})}function pe(t){ce({index:tt.index(this)?">":"<",slow:t.altKey,user:!0})}function fe(t){Li(t,function(){setTimeout(function(){Ei(G)},0),le(!1)})}function ge(){if(b=L.data=b||Di(x.data)||Si(i),C=L.size=b.length,!me.ok&&x.shuffle&&Ii(b),bt(),dt=kt(dt),C&&$t(!0),function(){L.options=x=Mi(x),$="crossfade"===x.transition||"dissolve"===x.transition,y=x.loop&&(2<C||$&&(!T||"slide"!==T)),S=+x.transitionduration||li,z="rtl"===x.direction,P=we.extend({},x.keyboard&&di,x.keyboard);var i={add:[],remove:[]};function t(t,e){i[t?"add":"remove"].push(e)}1<C||x.enableifsingleframe?(w=x.nav,o="top"===x.navposition,i.remove.push(qe),tt.toggle(!!x.arrows)):(w=!1,tt.hide()),Mt(),n=new Ge(we.extend(Ze,x.spinner,Xe,{direction:z?-1:1})),Bt(),Kt(),x.autoplay&&St(x.autoplay),l=vi(x.thumbwidth)||64,O=vi(x.thumbheight)||64,gt.ok=vt.ok=x.trackpad&&!oi,Ot(),Jt(x,[pt]),(_="thumbs"===w)?(Nt(C,"navThumb"),e=ot,q=ui,function(t,e){var i=t[0];i.styleSheet?i.styleSheet.cssText=e:t.html(e)}(K,we.Fotorama.jst.style({w:l,h:O,b:x.thumbborderwidth,m:x.thumbmargin,s:H,q:!ni})),it.addClass(De).removeClass(Ie)):"dots"===w?(Nt(C,"navDot"),e=st,q=ci,it.addClass(Ie).removeClass(De)):(w=!1,it.removeClass(De+" "+Ie)),w&&(o?et.insertBefore(G):et.insertAfter(G),Rt.nav=!1,Rt(e,nt,"nav")),r=x.allowfullscreen,a=r?(at.prependTo(G),si&&"native"===r):(at.detach(),!1),t($,"fotorama__wrap--fade"),t(!$,"fotorama__wrap--slide"),t(!x.captions,"fotorama__wrap--no-captions"),t(z,"fotorama__wrap--rtl"),t("always"!==x.arrows,"fotorama__wrap--toggle-arrows"),t(!(k=x.shadows&&!oi),"fotorama__wrap--no-shadows"),U.addClass(i.add.join(" ")).removeClass(i.remove.join(" ")),we.extend({},x)}(),!ge.i){ge.i=!0;var t=x.startindex;(t||x.hash&&ye.hash)&&(s=Pi(t||ye.hash.replace(/^#/,""),b,0===L.index||t,t)),dt=d=p=f=s=zt(s)||0}if(C){if(function t(){if(!t.f===z)return t.f=z,dt=C-1-dt,L.reverse(),!0}())return;h&&ae(h,!0),u=[],Xt(hi),ge.ok=!0,L.show({index:dt,time:0}),L.resize()}else L.destroy()}function me(){me.ok||(me.ok=!0,te("ready"))}U[hi]=we(Fi(Te)),U[ui]=we(Fi(Ee+" fotorama__nav__frame--thumb"+Qe,Fi(Be))),U[ci]=we(Fi(Ee+" fotorama__nav__frame--dot"+Qe,Fi("fotorama__dot"))),yt[hi]=[],yt[ui]=[],yt[ci]=[],wt[hi]={},U.addClass(ii?"fotorama__wrap--css3":"fotorama__wrap--css2").toggleClass($e,!x.controlsonstart),B.fotorama=this,L.startAutoplay=function(t){return L.autoplay||(E=M=!1,St(t||x.autoplay),se()),this},L.stopAutoplay=function(){return L.autoplay&&(E=M=!0,se()),this},L.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?p+1:"<"===t?p-1:"<<"===t?0:">>"===t?C-1:t,t=void 0===(t=isNaN(t)?Pi(t,b,!0):t)?dt||0:t,L.activeIndex=dt=zt(t),g=Pt(dt),m=Ft(dt),v=Tt(dt+(z?-1:1)),u=[dt,g,m],p=y?t:dt;var i=Math.abs(f-p),n=bi(e.time,function(){return Math.min(S*(1+(i-1)/12),2*S)}),s=e.overPos;e.slow&&(n*=10);var o=c;L.activeFrame=c=b[dt];var r=o===c&&!e.user;ae(h,c.i!==b[Tt(d)].i),Nt(u,"stage"),Lt(oi?[p]:[p,Pt(p),Ft(p)]),ue("go",!0),r||te("show",{user:e.user,time:n}),E=!0;var a=L.show.onEnd=function(t){if(!a.ok){if(a.ok=!0,t||Yt(!0),r||te("showend",{user:e.user}),!t&&T&&T!==x.transition)return L.setOptions({transition:T}),void(T=!1);At(),Et(u,"stage"),ue("go",!1),Kt(),he(),ne(),se()}};$?function e(t,i,n,s,o,r){var a=void 0!==r;if(a||(o.push(arguments),Array.prototype.push.call(arguments,o.length),!(1<o.length))){t=t||we(t),i=i||we(i);var l=t[0],h=i[0],c="crossfade"===s.method,u=function(){if(!u.done){u.done=!0;var t=(a||o.shift())&&o.shift();t&&e.apply(this,t),(s.onEnd||pi)(!!t)}},d=s.time/(r||1);n.removeClass(Ae+" "+Me),t.stop().addClass(Ae),i.stop().addClass(Me),c&&h&&t.fadeTo(0,0),t.fadeTo(c?d:0,1,c&&u),i.fadeTo(d,0,u),l&&c||h||u()}}(c[hi],dt!==f?b[f][hi]:null,X,{time:n,method:x.transition,onEnd:a},xt):Wi(Z,{pos:-_i(p,pt.w,x.margin,d),overPos:s,time:n,onEnd:a});if(Bt(),w){Zt(q),yt[q].push(c[q].addClass(Ne));var l=kt(dt+fi(p-f,-1,1));Gt({time:n,coo:l!==dt&&e.coo,guessIndex:void 0!==e.coo?l:dt,keep:r}),_&&Ut(n)}return D=void 0!==f&&f!==dt,f=dt,x.hash&&D&&!L.eq&&function(t){ye.replace(ye.protocol+"//"+ye.host+ye.pathname.replace(/^\/?/,"/")+ye.search+"#"+t)}(c.id||dt+1),this},L.requestFullScreen=function(){return r&&!L.fullScreen&&(t=ti.scrollTop(),I=ti.scrollLeft(),Ei(ti),ue("x",!0),A=we.extend({},pt),i.addClass(Le).appendTo(Je.addClass(xe)),Ye.addClass(xe),ae(h,!0,!0),L.fullScreen=!0,a&&Ue.request(W),L.resize(),Et(u,"stage"),At(),te("fullscreenenter")),this},L.cancelFullScreen=function(){return a&&Ue.is()?Ue.cancel(ve):oe(),this},L.toggleFullScreen=function(){return L[(L.fullScreen?"cancel":"request")+"FullScreen"]()},ji(ve,Ue.event,function(){!b||Ue.is()||h||oe()}),L.resize=function(t){if(!b)return this;var e=arguments[1]||0,i=arguments[2];Jt(L.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:Mi(t),[pt,i||L.fullScreen||x]);var n=pt.width,s=pt.height,o=pt.ratio,r=ti.height()-(w?it.height():0);return wi(n)&&(U.addClass(Oe).css({width:n,minWidth:pt.minwidth||0,maxWidth:pt.maxwidth||99999}),n=pt.W=pt.w=U.width(),pt.nw=w&&yi(x.navwidth,n)||n,x.glimpse&&(pt.w-=Math.round(2*(yi(x.glimpse,n)||0))),Z.css({width:pt.w,marginLeft:(pt.W-pt.w)/2}),(s=(s=yi(s,r))||o&&n/o)&&(n=Math.round(n),s=pt.h=Math.round(fi(s,yi(pt.minheight,r),yi(pt.maxheight,r))),G.stop().animate({width:n,height:s},e,function(){U.removeClass(Oe)}),Yt(),w&&(it.stop().animate({width:pt.nw},e),Gt({guessIndex:dt,time:e,keep:!0}),_&&Rt.nav&&Ut(e)),F=i||!0,me())),_t=G.offset().left,this},L.setOptions=function(t){return we.extend(x,t),ge(),this},L.shuffle=function(){return b&&Ii(b)&&ge(),this},L.destroy=function(){return L.cancelFullScreen(),L.stopAutoplay(),b=L.data=null,$t(),u=[],Xt(hi),ge.ok=!1,this},L.playVideo=function(){var t=c,e=t.video,i=dt;return"object"==typeof e&&t.videoReady&&(a&&L.fullScreen&&L.cancelFullScreen(),Ti(function(){return!Ue.is()||i!==dt},function(){i===dt&&(t.$video=t.$video||we(we.Fotorama.jst.video(e)),t.$video.appendTo(t[hi]),U.addClass(Ce),h=t.$video,Ot(),tt.blur(),at.blur(),te("loadvideo"))})),this},L.stopVideo=function(){return ae(h,!0,!0),this},G.on("mousemove",he),ft=Bi(Z,{onStart:ee,onMove:function(t,e){re(G,e.edge)},onTouchEnd:ie,onEnd:function(t){re(G);var e=(ri&&!N||t.touch)&&x.arrows&&"always"!==x.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var i=function(t,e,i,n){return-Math.round(t/(e+(i||0))-(n||0))}(t.newPos,pt.w,x.margin,d);L.show({index:i,time:$?S:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t,e){var i=t.target;we(i).hasClass(Ke)?L.playVideo():i===lt?L.toggleFullScreen():h?i===ct&&ae(h,!0,!0):e?le():x.click&&ce({index:t.shiftKey||Ri(Wt(t._x)),slow:t.altKey,user:!0})}(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+qe+", ."+qe+" *",$wrap:G}),mt=Bi(nt,{onStart:ee,onMove:function(t,e){re(it,e.edge)},onTouchEnd:ie,onEnd:function(t){function e(){Gt.l=t.newPos,ne(),se(),Ht(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(E=!0,Wi(nt,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),Ht(t.newPos),k&&re(it,zi(t.newPos,mt.min,mt.max))):e();else{var i=t.$target.closest("."+Ee,nt)[0];i&&de.call(i,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:it}),gt=Ki(G,{shift:!0,onEnd:function(t,e){ee(),ie(),L.show({index:e,slow:t.altKey})}}),vt=Ki(it,{onEnd:function(t,e){ee(),ie();var i=xi(nt)+.25*e;nt.css(gi(fi(i,mt.min,mt.max))),k&&re(it,zi(i,mt.min,mt.max)),vt.prevent={"<":i>=mt.max,">":i<=mt.min},clearTimeout(vt.t),vt.t=setTimeout(function(){Ht(Gt.l=i,!0)},ai),Ht(i)}}),U.hover(function(){setTimeout(function(){j||le(!(N=!0))},0)},function(){N&&le(!(N=!1))}),function(t,n,s){s=s||{},t.each(function(){var e,t=we(this),i=t.data();i.clickOn||(i.clickOn=!0,we.extend(Vi(t,{onStart:function(t){e=t,(s.onStart||pi).call(this,t)},onMove:s.onMove||pi,onTouchEnd:s.onTouchEnd||pi,onEnd:function(t){t.moved||n.call(this,e)}}),{noMove:!0}))})}(tt,function(t){Hi(t),pe.call(this,t)},{onStart:function(){ee(),ft.control=!0},onTouchEnd:ie}),tt.each(function(){qi(this,function(t){pe.call(this,t)}),fe(this)}),qi(lt,L.toggleFullScreen),fe(lt),we.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){L[e]=function(){return b=b||[],"load"!==e?Array.prototype[e].apply(b,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(b=Di(arguments[0])),ge(),L}}),ge()},we.fn.fotorama=function(s){return this.each(function(){var t=this,e=we(this),i=e.data(),n=i.fotorama;n?n.setOptions(s,!0):Ti(function(){return!function(t){return 0===t.offsetWidth&&0===t.offsetHeight}(t)},function(){i.urtext=e.html(),new we.Fotorama(e,we.extend({},m,o.fotoramaDefaults,s,i))})})},we.Fotorama.instances=[],we.Fotorama.cache={},we.Fotorama.measures={},(we=we||{}).Fotorama=we.Fotorama||{},we.Fotorama.jst=we.Fotorama.jst||{},we.Fotorama.jst.style=function(t){var e,i="";return i+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},we.Fotorama.jst.video=function(t){var e="",i=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=i.call(arguments,"")}(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>\n'},we(function(){we("."+_e+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){function t(t,e){this.items=t,this.settings=e||{diacritics:!0}}t.prototype.tokenize=function(t){if(!(t=a(String(t||"").toLowerCase()))||!t.length)return[];var e,i,n,s,o=[],r=t.split(/ +/);for(e=0,i=r.length;e<i;e++){if(n=l(r[e]),this.settings.diacritics)for(s in h)h.hasOwnProperty(s)&&(n=n.replace(new RegExp(s,"g"),h[s]));o.push({string:r[e],regex:new RegExp(n,"i")})}return o},t.prototype.iterator=function(t,e){(r(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var s,o,r,a;t=this.prepareSearch(t,e),o=t.tokens,s=t.options.fields,r=o.length,a=t.options.nesting;function l(t,e){var i,n;return t?-1===(n=(t=String(t||"")).search(e.regex))?0:(i=e.string.length/t.length,0===n&&(i+=.5),i):0}var h,c=(h=s.length)?1===h?function(t,e){return l(f(e,s[0],a),t)}:function(t,e){for(var i=0,n=0;i<h;i++)n+=l(f(e,s[i],a),t);return n/h}:function(){return 0};return r?1===r?function(t){return c(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<r;i++){if((e=c(o[i],t))<=0)return 0;n+=e}return n/r}:function(t){for(var e=0,i=0;e<r;e++)i+=c(o[e],t);return i/r}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var e,n,s,o,r,a,l,h,c,u,d;if(d=!(t=(s=this).prepareSearch(t,i)).query&&i.sort_empty||i.sort,c=function(t,e){return"$score"===t?e.score:f(s.items[e.id],t,i.nesting)},r=[],d)for(e=0,n=d.length;e<n;e++)!t.query&&"$score"===d[e].field||r.push(d[e]);if(t.query){for(u=!0,e=0,n=r.length;e<n;e++)if("$score"===r[e].field){u=!1;break}u&&r.unshift({field:"$score",direction:"desc"})}else for(e=0,n=r.length;e<n;e++)if("$score"===r[e].field){r.splice(e,1);break}for(h=[],e=0,n=r.length;e<n;e++)h.push("desc"===r[e].direction?-1:1);return(a=r.length)?1===a?(o=r[0].field,l=h[0],function(t,e){return l*p(c(o,t),c(o,e))}):function(t,e){var i,n,s;for(i=0;i<a;i++)if(s=r[i].field,n=h[i]*p(c(s,t),c(s,e)))return n;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=o({},e)).fields,n=e.sort,s=e.sort_empty;return i&&!r(i)&&(e.fields=[i]),n&&!r(n)&&(e.sort=[n]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,i){var n,s,e,o,r=this;return s=this.prepareSearch(t,i),i=s.options,t=s.query,o=i.score||r.getScoreFunction(s),t.length?r.iterator(r.items,function(t,e){n=o(t),(!1===i.filter||0<n)&&s.items.push({score:n,id:e})}):r.iterator(r.items,function(t,e){s.items.push({score:1,id:e})}),(e=r.getSortFunction(s,i))&&s.items.sort(e),s.total=s.items.length,"number"==typeof i.limit&&(s.items=s.items.slice(0,i.limit)),s};var p=function(t,e){return"number"==typeof t&&"number"==typeof e?e<t?1:t<e?-1:0:(t=i(String(t||"")),(e=i(String(e||"")))<t?1:t<e?-1:0)},o=function(t,e){var i,n,s,o;for(i=1,n=arguments.length;i<n;i++)if(o=arguments[i])for(s in o)o.hasOwnProperty(s)&&(t[s]=o[s]);return t},f=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},a=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},l=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},h={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var t,e,i,n,s="",o={};for(i in h)if(h.hasOwnProperty(i))for(s+=n=h[i].substring(2,h[i].length-1),t=0,e=n.length;t<e;t++)o[n.charAt(t)]=i;var r=new RegExp("["+s+"]","g");return function(t){return t.replace(r,function(t){return o[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(n){n.plugins={},n.prototype.initializePlugins=function(t){var e,i,n,s=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(t))for(e=0,i=t.length;e<i;e++)"string"==typeof t[e]?s.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,s.push(t[e].name));else if(t)for(n in t)t.hasOwnProperty(n)&&(this.plugins.settings[n]=t[n],s.push(n));for(;s.length;)this.require(s.shift())},n.prototype.loadPlugin=function(t){var e=this.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)},n.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},n.define=function(t,e){n.plugins[t]={name:t,fn:e}}}},o={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function($,l,t){"use strict";function O(t,e){if("string"!=typeof e||e.length){var l="string"==typeof e?new RegExp(e,"i"):e,h=function(t){var e=0;if(3===t.nodeType){var i=t.data.search(l);if(0<=i&&0<t.data.length){var n=t.data.match(l),s=document.createElement("span");s.className="highlight";var o=t.splitText(i),r=(o.splitText(n[0].length),o.cloneNode(!0));s.appendChild(r),o.parentNode.replaceChild(s,o),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var a=0;a<t.childNodes.length;++a)a+=h(t.childNodes[a]);return e};return t.each(function(){h(this)})}}$.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};function n(){}n.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=n.prototype[e[i]]};function h(t){return void 0!==t}function S(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""}function a(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(e,i,t){var n,s=e.trigger,o={};for(n in e.trigger=function(){var t=arguments[0];if(-1===i.indexOf(t))return s.apply(e,arguments);o[t]=arguments},t.apply(e,[]),e.trigger=s,o)o.hasOwnProperty(n)&&s.apply(e,o[n])}function d(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e}function v(c){function t(t,e){var i,n,s,o,r,a,l,h;e=e||{},(t=t||window.event||{}).metaKey||t.altKey||!e.force&&!1===c.data("grow")||(i=c.val(),t.type&&"keydown"===t.type.toLowerCase()&&(s=48<=(n=t.keyCode)&&n<=57||65<=n&&n<=90||96<=n&&n<=111||186<=n&&n<=222||32===n,46===n||8===n?(h=d(c[0])).length?i=i.substring(0,h.start)+i.substring(h.start+h.length):8===n&&h.start?i=i.substring(0,h.start-1)+i.substring(h.start+1):46===n&&void 0!==h.start&&(i=i.substring(0,h.start)+i.substring(h.start+1)):s&&(a=t.shiftKey,l=String.fromCharCode(t.keyCode),i+=l=a?l.toUpperCase():l.toLowerCase())),o=c.attr("placeholder"),!i&&o&&(i=o),(r=function(t,e){return t?(b.$testInput||(b.$testInput=$("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),b.$testInput.text(t),function(t,e,i){var n,s,o={};if(i)for(n=0,s=i.length;n<s;n++)o[i[n]]=t.css(i[n]);else o=t.css();e.css(o)}(e,b.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),b.$testInput.width()):0}(i,c)+4)!==u&&(u=r,c.width(r),c.triggerHandler("resize")))}var u=null;c.on("keydown keyup update blur",t),t()}var y=/Mac/.test(navigator.userAgent),w=y?91:17,_=y?18:17,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,e={before:function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},after:function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}}},b=function(t,e){var i,n,s,o,r=this;(o=t[0]).selectize=r;var a=window.getComputedStyle&&window.getComputedStyle(o,null);if(s=(s=a?a.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",$.extend(r,{order:0,settings:e,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++b.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?r.onSearchChange:function(i,n){var s;return function(){var t=this,e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(t,e)},n)}}(r.onSearchChange,e.loadThrottle)}),r.sifter=new l(this.options,{diacritics:e.diacritics}),r.settings.options){for(i=0,n=r.settings.options.length;i<n;i++)r.registerOption(r.settings.options[i]);delete r.settings.options}if(r.settings.optgroups){for(i=0,n=r.settings.optgroups.length;i<n;i++)r.registerOptionGroup(r.settings.optgroups[i]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()};return n.mixin(b),void 0!==t?t.mixin(b):function(t,e){e=e||{};console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),$.extend(b.prototype,{setup:function(){var t,e,i,n,s,o,r,a,l,h,c=this,u=c.settings,d=c.eventNS,p=$(window),f=$(document),g=c.$input;if(r=c.settings.mode,a=g.attr("class")||"",t=$("<div>").addClass(u.wrapperClass).addClass(a).addClass(r),e=$("<div>").addClass(u.inputClass).addClass("items").appendTo(t),i=$('<input type="text" autocomplete="off" />').appendTo(e).attr("tabindex",g.is(":disabled")?"-1":c.tabIndex),o=$(u.dropdownParent||t),n=$("<div>").addClass(u.dropdownClass).addClass(r).hide().appendTo(o),s=$("<div>").addClass(u.dropdownContentClass).appendTo(n),(h=g.attr("id"))&&(i.attr("id",h+"-selectized"),$("label[for='"+h+"']").attr("for",h+"-selectized")),c.settings.copyClassesToDropdown&&n.addClass(a),t.css({width:g[0].style.width}),c.plugins.names.length&&(l="plugin-"+c.plugins.names.join(" plugin-"),t.addClass(l),n.addClass(l)),(null===u.maxItems||1<u.maxItems)&&1===c.tagType&&g.attr("multiple","multiple"),c.settings.placeholder&&i.attr("placeholder",u.placeholder),!c.settings.splitOn&&c.settings.delimiter){var m=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.settings.splitOn=new RegExp("\\s*"+m+"+\\s*")}g.attr("autocorrect")&&i.attr("autocorrect",g.attr("autocorrect")),g.attr("autocapitalize")&&i.attr("autocapitalize",g.attr("autocapitalize")),i[0].type=g[0].type,c.$wrapper=t,c.$control=e,c.$control_input=i,c.$dropdown=n,c.$dropdown_content=s,n.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(t){t.stopImmediatePropagation()}),n.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)}),n.on("mousedown click","[data-selectable]",function(){return c.onOptionSelect.apply(c,arguments)}),function(i,t,e,n){i.on(t,e,function(t){for(var e=t.target;e&&e.parentNode!==i[0];)e=e.parentNode;return t.currentTarget=e,n.apply(this,[t])})}(e,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)}),v(i),e.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){return c.ignoreBlur=!1,c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}}),f.on("keydown"+d,function(t){c.isCmdDown=t[y?"metaKey":"ctrlKey"],c.isCtrlDown=t[y?"altKey":"ctrlKey"],c.isShiftDown=t.shiftKey}),f.on("keyup"+d,function(t){t.keyCode===_&&(c.isCtrlDown=!1),16===t.keyCode&&(c.isShiftDown=!1),t.keyCode===w&&(c.isCmdDown=!1)}),f.on("mousedown"+d,function(t){if(c.isFocused){if(t.target===c.$dropdown[0]||t.target.parentNode===c.$dropdown[0])return!1;c.$control.has(t.target).length||t.target===c.$control[0]||c.blur(t.target)}}),p.on(["scroll"+d,"resize"+d].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)}),p.on("mousemove"+d,function(){c.ignoreHover=!1}),this.revertSettings={$children:g.children().detach(),tabindex:g.attr("tabindex")},g.attr("tabindex",-1).hide().after(c.$wrapper),$.isArray(u.items)&&(c.setValue(u.items),delete u.items),x&&g.on("invalid"+d,function(t){t.preventDefault(),c.isInvalid=!0,c.refreshState()}),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.updatePlaceholder(),c.isSetup=!0,g.is(":disabled")&&c.disable(),c.on("change",this.onChange),g.data("selectize",c),g.addClass("selectized"),c.trigger("initialize"),!0===u.preload&&c.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,n=this.settings.optgroupLabelField,t={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=$.extend({},t,this.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]])&&this.on(t,e)},onClick:function(t){this.isFocused&&this.isOpen||(this.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,i=t.isDefaultPrevented();$(t.target);if(e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():i||e.setActiveItem(null),!1}else i||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var s=this;s.isFull()||s.isInputHidden||s.isLocked?t.preventDefault():s.settings.splitOn&&setTimeout(function(){var t=s.$control_input.val();if(t.match(s.settings.splitOn))for(var e=$.trim(t).split(s.settings.splitOn),i=0,n=e.length;i<n;i++)s.createItem(e[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){t.target,this.$control_input[0];var e=this;if(e.isLocked)9!==t.keyCode&&t.preventDefault();else{switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}!e.isFull()&&!e.isInputHidden||(y?t.metaKey:t.ctrlKey)||t.preventDefault()}},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var i=e.$control_input.val()||"";e.lastValue!==i&&(e.lastValue=i,e.onSearchChange(i),e.refreshOptions(),e.trigger("type",i))},onSearchChange:function(e){var i=this,n=i.settings.load;n&&(i.loadedSearches.hasOwnProperty(e)||(i.loadedSearches[e]=!0,i.load(function(t){n.apply(i,[e,t])})))},onFocus:function(t){var e=this,i=e.isFocused;if(e.isDisabled)return e.blur(),t&&t.preventDefault(),!1;e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")};i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,i,n=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=$(t.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(e=i.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(e),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&n.setActiveOption(n.getOption(e)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){i(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(t,e){var i,n,s,o,r,a,l,h,c=this;if("single"!==c.settings.mode){if(!(t=$(t)).length)return $(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(i=e&&e.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(h=c.$control.children(".active:last"),o=Array.prototype.indexOf.apply(c.$control[0].childNodes,[h[0]]),(r=Array.prototype.indexOf.apply(c.$control[0].childNodes,[t[0]]))<o&&(l=o,o=r,r=l),n=o;n<=r;n++)a=c.$control[0].childNodes[n],-1===c.$activeItems.indexOf(a)&&($(a).addClass("active"),c.$activeItems.push(a));e.preventDefault()}else"mousedown"===i&&c.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(s=c.$activeItems.indexOf(t[0]),c.$activeItems.splice(s,1),t.removeClass("active")):c.$activeItems.push(t.addClass("active")[0]):($(c.$activeItems).removeClass("active"),c.$activeItems=[t.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(t,e,i){var n,s,o,r,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(t=$(t)).length&&(l.$activeOption=t.addClass("active"),!e&&h(e)||(n=l.$dropdown_content.height(),s=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,a=(r=o=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e)-n+s,n+e<o+s?l.$dropdown_content.stop().animate({scrollTop:a},i?l.settings.scrollDuration:0):o<e&&l.$dropdown_content.stop().animate({scrollTop:r},i?l.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}},search:function(t){var e,i,n,s=this,o=s.settings,r=this.getSearchOptions();if(o.score&&"function"!=typeof(n=s.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==s.lastQuery?(s.lastQuery=t,i=s.sifter.search(t,$.extend(r,{score:n})),s.currentResults=i):i=$.extend(!0,{},s.currentResults),o.hideSelected)for(e=i.items.length-1;0<=e;e--)-1!==s.items.indexOf(S(i.items[e].id))&&i.items.splice(e,1);return i},refreshOptions:function(t){var e,i,n,s,o,r,a,l,h,c,u,d,p,f,g,m;void 0===t&&(t=!0);var v,y,w=this,_=$.trim(w.$control_input.val()),x=w.search(_),b=w.$dropdown_content,C=w.$activeOption&&S(w.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),o={},r=[],e=0;e<s;e++)for(a=w.options[x.items[e].id],l=w.render("option",a),h=a[w.settings.optgroupField]||"",i=0,n=(c=$.isArray(h)?h:[h])&&c.length;i<n;i++)h=c[i],w.optgroups.hasOwnProperty(h)||(h=""),o.hasOwnProperty(h)||(o[h]=document.createDocumentFragment(),r.push(h)),o[h].appendChild(l);for(this.settings.lockOptgroupOrder&&r.sort(function(t,e){return(w.optgroups[t].$order||0)-(w.optgroups[e].$order||0)}),u=document.createDocumentFragment(),e=0,s=r.length;e<s;e++)h=r[e],w.optgroups.hasOwnProperty(h)&&o[h].childNodes.length?((d=document.createDocumentFragment()).appendChild(w.render("optgroup_header",w.optgroups[h])),d.appendChild(o[h]),u.appendChild(w.render("optgroup",$.extend({},w.optgroups[h],{html:(v=d,y=void 0,y=document.createElement("div"),y.appendChild(v.cloneNode(!0)),y.innerHTML),dom:d})))):u.appendChild(o[h]);if(b.html(u),w.settings.highlight&&(b.removeHighlight(),x.query.length&&x.tokens.length))for(e=0,s=x.tokens.length;e<s;e++)O(b,x.tokens[e].regex);if(!w.settings.hideSelected)for(e=0,s=w.items.length;e<s;e++)w.getOption(w.items[e]).addClass("selected");(p=w.canCreate(_))&&(b.prepend(w.render("option_create",{input:_})),m=$(b[0].childNodes[0])),w.hasOptions=0<x.items.length||p,w.hasOptions?(0<x.items.length?((g=C&&w.getOption(C))&&g.length?f=g:"single"===w.settings.mode&&w.items.length&&(f=w.getOption(w.items[0])),f&&f.length||(f=m&&!w.settings.addPrecedence?w.getAdjacentOption(m,1):b.find("[data-selectable]:first"))):f=m,w.setActiveOption(f),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var e,i,n,s=this;if($.isArray(t))for(e=0,i=t.length;e<i;e++)s.addOption(t[e]);else(n=s.registerOption(t))&&(s.userOptions[n]=!0,s.lastQuery=null,s.trigger("option_add",n,t))},registerOption:function(t){var e=S(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var i,n,s,o,r,a,l,h=this;if(t=S(t),s=S(e[h.settings.valueField]),null!==t&&h.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");l=h.options[t].$order,s!==t&&(delete h.options[t],-1!==(o=h.items.indexOf(t))&&h.items.splice(o,1,s)),e.$order=e.$order||l,h.options[s]=e,r=h.renderCache.item,a=h.renderCache.option,r&&(delete r[t],delete r[s]),a&&(delete a[t],delete a[s]),-1!==h.items.indexOf(s)&&(i=h.getItem(t),n=$(h.render("item",e)),i.hasClass("active")&&n.addClass("active"),i.replaceWith(n)),h.lastQuery=null,h.isOpen&&h.refreshOptions(!1)}},removeOption:function(t,e){var i=this;t=S(t);var n=i.renderCache.item,s=i.renderCache.option;n&&delete n[t],s&&delete s[t],delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)},clearOptions:function(){var i=this;i.loadedSearches={},i.userOptions={},i.renderCache={};var n=i.options;$.each(i.options,function(t,e){-1==i.items.indexOf(t)&&delete n[t]}),i.options=i.sifter.items=n,i.lastQuery=null,i.trigger("option_clear")},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var i=this.$dropdown.find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):$()},getElementWithValue:function(t,e){if(null!=(t=S(t)))for(var i=0,n=e.length;i<n;i++)if(e[i].getAttribute("data-value")===t)return $(e[i]);return $()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(t,e){this.buffer=document.createDocumentFragment();for(var i=this.$control[0].childNodes,n=0;n<i.length;n++)this.buffer.appendChild(i[n]);for(var s=$.isArray(t)?t:[t],o=(n=0,s.length);n<o;n++)this.isPending=n<o-1,this.addItem(s[n],e);var r=this.$control[0];r.insertBefore(this.buffer,r.firstChild),this.buffer=null},addItem:function(a,l){i(this,l?[]:["change"],function(){var t,e,i,n,s,o=this,r=o.settings.mode;a=S(a),-1===o.items.indexOf(a)?o.options.hasOwnProperty(a)&&("single"===r&&o.clear(l),"multi"===r&&o.isFull()||(t=$(o.render("item",o.options[a])),s=o.isFull(),o.items.splice(o.caretPos,0,a),o.insertAtCaret(t),o.isPending&&(s||!o.isFull())||o.refreshState(),o.isSetup&&(i=o.$dropdown_content.find("[data-selectable]"),o.isPending||(e=o.getOption(a),n=o.getAdjacentOption(e,1).attr("data-value"),o.refreshOptions(o.isFocused&&"single"!==r),n&&o.setActiveOption(o.getOption(n))),!i.length||o.isFull()?o.close():o.isPending||o.positionDropdown(),o.updatePlaceholder(),o.trigger("item_add",a,t),o.isPending||o.updateOriginalInput({silent:l})))):"single"===r&&o.close()})},removeItem:function(t,e){var i,n,s,o=this;i=t instanceof $?t:o.getItem(t),t=S(i.attr("data-value")),-1!==(n=o.items.indexOf(t))&&(i.remove(),i.hasClass("active")&&(s=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(s,1)),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,e),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:e}),o.positionDropdown(),o.trigger("item_remove",t,i))},createItem:function(t,i){var n=this,s=n.caretPos;t=t||$.trim(n.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return o(),!1;n.lock();var e="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},r=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}(function(t){if(n.unlock(),!t||"object"!=typeof t)return o();var e=S(t[n.settings.valueField]);if("string"!=typeof e)return o();n.setTextboxValue(""),n.addOption(t),n.setCaret(s),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),o(t)}),a=e.apply(this,[t,r]);return void 0!==a&&r(a),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var t=this,e=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!$.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,s,o=this;if(t=t||{},1===o.tagType){for(n=[],e=0,i=o.items.length;e<i;e++)s=o.options[o.items[e]][o.settings.labelField]||"",n.push('<option value="'+a(o.items[e])+'" selected="selected">'+a(s)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),o.$input.html(n.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.isBlurring||t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t[0].getBoundingClientRect().width,top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),i=t[0],n=this.buffer||this.$control[0];0===e?n.insertBefore(i,n.firstChild):n.insertBefore(i,n.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(t){var e,i,n,s,o,r,a,l,h,c=this;if(n=t&&8===t.keyCode?-1:1,s=d(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(a=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),o=[],c.$activeItems.length){for(h=c.$control.children(".active:"+(0<n?"last":"first")),r=c.$control.children(":not(input)").index(h),0<n&&r++,e=0,i=c.$activeItems.length;e<i;e++)o.push($(c.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(n<0&&0===s.start&&0===s.length?o.push(c.items[c.caretPos-1]):0<n&&s.start===c.$control_input.val().length&&o.push(c.items[c.caretPos]));if(!o.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[o]))return!1;for(void 0!==r&&c.setCaret(r);o.length;)c.removeItem(o.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),a&&(l=c.getOption(a)).length&&c.setActiveOption(l),!0},advanceSelection:function(t,e){var i,n,s,o,r,a=this;0!==t&&(a.rtl&&(t*=-1),i=0<t?"last":"first",n=d(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(o=a.$control_input.val().length,(t<0?0!==n.start||0!==n.length:n.start!==o)||o||a.advanceCaret(t,e)):(r=a.$control.children(".active:"+i)).length&&(s=a.$control.children(":not(input)").index(r),a.setActiveItem(null),a.setCaret(0<t?s+1:s)))},advanceCaret:function(t,e){var i,n,s=this;0!==t&&(i=0<t?"next":"prev",s.isShiftDown?(n=s.$control_input[i]()).length&&(s.hideInput(),s.setActiveItem(n),e&&e.preventDefault()):s.setCaret(s.caretPos+t))},setCaret:function(t){var e,i,n,s,o=this;if(t="single"===o.settings.mode?o.items.length:Math.max(0,Math.min(o.items.length,t)),!o.isPending)for(e=0,i=(n=o.$control.children(":not(input)")).length;e<i;e++)s=$(n[e]).detach(),e<t?o.$control_input.before(s):o.$control.append(s);o.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var t=this,e=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),0==--b.count&&b.$testInput&&(b.$testInput.remove(),b.$testInput=void 0),$(window).off(e),$(document).off(e),$(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var i,n,s="",o=!1,r=this;return"option"!==t&&"item"!==t||(o=!!(i=S(e[r.settings.valueField]))),o&&(h(r.renderCache[t])||(r.renderCache[t]={}),r.renderCache[t].hasOwnProperty(i))?r.renderCache[t][i]:(s=$(r.settings.render[t].apply(this,[e,a])),"option"===t||"option_create"===t?e[r.settings.disabledField]||s.attr("data-selectable",""):"optgroup"===t&&(n=e[r.settings.optgroupValueField]||"",s.attr("data-group",n),e[r.settings.disabledField]&&s.attr("data-disabled","")),"option"!==t&&"item"!==t||s.attr("data-value",i||""),o&&(r.renderCache[t][i]=s[0]),s[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),b.count=0,b.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},$.fn.selectize=function(s){var o=$.fn.selectize.defaults,u=$.extend({},o,s),d=u.dataAttr,p=u.labelField,f=u.valueField,g=u.disabledField,m=u.optgroupField,v=u.optgroupLabelField,y=u.optgroupValueField;return this.each(function(){if(!this.selectize){var t=$(this),e=this.tagName.toLowerCase(),i=t.attr("placeholder")||t.attr("data-placeholder");i||u.allowEmptyOption||(i=t.children('option[value=""]').text());var n={placeholder:i,options:[],optgroups:[],items:[]};"select"===e?function(t,r){function a(t){var e=d&&t.attr(d);return"string"==typeof e&&e.length?JSON.parse(e):null}function l(t,e){t=$(t);var i=S(t.val());if(i||u.allowEmptyOption)if(c.hasOwnProperty(i)){if(e){var n=c[i][m];n?$.isArray(n)?n.push(e):c[i][m]=[n,e]:c[i][m]=e}}else{var s=a(t)||{};s[p]=s[p]||t.text(),s[f]=s[f]||i,s[g]=s[g]||t.prop("disabled"),s[m]=s[m]||e,c[i]=s,h.push(s),t.is(":selected")&&r.items.push(i)}}function e(t){var e,i,n,s,o;for((n=(t=$(t)).attr("label"))&&((s=a(t)||{})[v]=n,s[y]=n,s[g]=t.prop("disabled"),r.optgroups.push(s)),e=0,i=(o=$("option",t)).length;e<i;e++)l(o[e],n)}var i,n,s,o,h=r.options,c={};for(r.maxItems=t.attr("multiple")?null:1,i=0,n=(o=t.children()).length;i<n;i++)"optgroup"===(s=o[i].tagName.toLowerCase())?e(o[i]):"option"===s&&l(o[i])}(t,n):function(t,e){var i,n,s,o,r=t.attr(d);if(r)for(e.options=JSON.parse(r),i=0,n=e.options.length;i<n;i++)e.items.push(e.options[i][f]);else{var a=$.trim(t.val()||"");if(!u.allowEmptyOption&&!a.length)return;for(i=0,n=(s=a.split(u.delimiter)).length;i<n;i++)(o={})[p]=s[i],o[f]=s[i],e.options.push(o);e.items=s}}(t,n),new b(t,$.extend(!0,{},o,n,s))}})},$.fn.selectize.defaults=b.defaults,$.fn.selectize.support={validity:x},b.define("drag_drop",function(t){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e,i,n,s=this;s.lock=(e=s.lock,function(){var t=s.$control.data("sortable");return t&&t.disable(),e.apply(s,arguments)}),s.unlock=(i=s.unlock,function(){var t=s.$control.data("sortable");return t&&t.enable(),i.apply(s,arguments)}),s.setup=(n=s.setup,function(){n.apply(this,arguments);var i=s.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:s.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=s.$activeItems?s.$activeItems.slice():null,e=[];i.children("[data-value]").each(function(){e.push($(this).attr("data-value"))}),s.setValue(e),s.setActiveItem(t)}})})}}),b.define("dropdown_header",function(t){var e,i=this;t=$.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},t),i.setup=(e=i.setup,function(){e.apply(i,arguments),i.$dropdown_header=$(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})}),b.define("optgroup_columns",function(a){var o,l=this;a=$.extend({equalizeWidth:!0,equalizeHeight:!0},a),this.getAdjacentOption=function(t,e){var i=t.closest("[data-group]").find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):$()},this.onKeyDown=(o=l.onKeyDown,function(t){var e,i,n,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?o.apply(this,arguments):(l.ignoreHover=!0,e=(s=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(n=(s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]")).find("[data-selectable]")).eq(Math.min(n.length-1,e))).length&&this.setActiveOption(i)))});function t(){var t,e,i,n,s,o,r;if((e=(r=$("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(a.equalizeHeight){for(t=i=0;t<e;t++)i=Math.max(i,r.eq(t).height());r.css({height:i})}a.equalizeWidth&&(o=l.$dropdown_content.innerWidth()-h(),n=Math.round(o/e),r.css({width:n}),1<e&&(s=o-n*(e-1),r.eq(e-1).css({width:s})))}}var h=function(){var t,e=h.width,i=document;return void 0===e&&((t=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=h.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e};(a.equalizeHeight||a.equalizeWidth)&&(e.after(this,"positionDropdown",t),e.after(this,"refreshOptions",t))}),b.define("remove_button",function(t){t=$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var i,n,s,o,r;"single"!==this.settings.mode?(o=i=this,r='<a href="javascript:void(0)" class="'+(n=t).className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>",i.setup=(s=o.setup,function(){if(n.append){var e=o.settings.render.item;o.settings.render.item=function(t){return function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)}(e.apply(i,arguments),r)}}s.apply(i,arguments),i.$control.on("click","."+n.className,function(t){if(t.preventDefault(),!o.isLocked){var e=$(t.currentTarget).parent();o.setActiveItem(e),o.deleteSelection()&&o.setCaret(o.items.length)}})})):function(i,n){n.className="remove-single";var s,o=i,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>";i.setup=(s=o.setup,function(){if(n.append){var t=$(o.$input.context).attr("id"),e=($("#"+t),o.settings.render.item);o.settings.render.item=function(t){return function(t,e){return $("<span>").append(t).append(e)}(e.apply(i,arguments),r)}}s.apply(i,arguments),i.$control.on("click","."+n.className,function(t){t.preventDefault(),o.isLocked||o.clear()})})}(this,t)}),b.define("restore_on_backspace",function(n){var s,t=this;n.text=n.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(s=t.onKeyDown,function(t){var e,i;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(e=this.caretPos-1)&&e<this.items.length?(i=this.options[this.items[e]],this.deleteSelection(t)&&(this.setTextboxValue(n.text.apply(this,[i])),this.refreshOptions(!0)),void t.preventDefault()):s.apply(this,arguments)})}),b});